flarum.core=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=95)}([function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4),i=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=null),this.data=t,this.freshness=new Date,this.exists=!1,this.store=e}var e=t.prototype;return e.id=function(){return this.data.id},e.attribute=function(t){return this.data.attributes[t]},e.pushData=function(e){for(var n in e)if("object"==typeof e[n])for(var r in this.data[n]=this.data[n]||{},e[n])e[n][r]instanceof t&&(e[n][r]={data:t.getIdentifier(e[n][r])}),this.data[n][r]=e[n][r];else this.data[n]=e[n];this.freshness=new Date},e.pushAttributes=function(t){this.pushData({attributes:t})},e.save=function(e,n){var i=this;void 0===n&&(n={});var o={type:this.data.type,id:this.data.id,attributes:e};if(e.relationships){for(var a in o.relationships={},e.relationships){var s=e.relationships[a];o.relationships[a]={data:s instanceof Array?s.map(t.getIdentifier):t.getIdentifier(s)}}delete e.relationships}var c=this.copyData();this.pushData(o);var u={data:o};return n.meta&&(u.meta=n.meta),app.request(Object(r.a)({method:this.exists?"PATCH":"POST",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:u},n)).then((function(t){return i.store.data[t.data.type]=i.store.data[t.data.type]||{},i.store.data[t.data.type][t.data.id]=i,i.store.pushPayload(t)}),(function(t){throw i.pushData(c),m.lazyRedraw(),t}))},e.delete=function(t,e){var n=this;return void 0===e&&(e={}),this.exists?app.request(Object(r.a)({method:"DELETE",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:t},e)).then((function(){n.exists=!1,n.store.remove(n)})):m.deferred().resolve().promise},e.apiEndpoint=function(){return"/"+this.data.type+(this.exists?"/"+this.data.id:"")},e.copyData=function(){return JSON.parse(JSON.stringify(this.data))},t.attribute=function(t,e){return function(){var n=this.data.attributes&&this.data.attributes[t];return e?e(n):n}},t.hasOne=function(t){return function(){if(this.data.relationships){var e=this.data.relationships[t];if(e)return app.store.getById(e.data.type,e.data.id)}return!1}},t.hasMany=function(t){return function(){if(this.data.relationships){var e=this.data.relationships[t];if(e)return e.data.map((function(t){return app.store.getById(t.type,t.id)}))}return!1}},t.transformDate=function(t){return t?new Date(t):null},t.getIdentifier=function(t){return{type:t.data.type,id:t.data.id}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(4),i=n(0),o=n(3),a=n(6),s=n(10),c=n(9),u=n(14),l=function(t){function e(){return t.apply(this,arguments)||this}Object(i.a)(e,t);var n=e.prototype;return n.view=function(){var t=Object(r.a)({},this.props);delete t.children,t.className=t.className||"",t.type=t.type||"button",t.title&&!this.props.children&&(t["aria-label"]=t.title),!t.title&&this.props.children&&(t.title=Object(c.a)(this.props.children)),Object(s.a)(t,"icon")&&(t.className+=" hasIcon");var e=Object(s.a)(t,"loading");return(t.disabled||e)&&(t.className+=" disabled"+(e?" loading":""),delete t.onclick),m("button",t,this.getButtonContent())},n.getButtonContent=function(){var t=this.props.icon;return[t&&!0!==t?Object(a.a)(t,{className:"Button-icon"}):"",this.props.children?m("span",{className:"Button-label"},this.props.children):"",this.props.loading?u.a.component({size:"tiny",className:"LoadingIndicator--inline"}):""]},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4),i=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=null),e&&(t.children=e),this.constructor.initProps(t),this.props=t,this.element=null,this.retain=!1,this.init()}var e=t.prototype;return e.init=function(){},e.onunload=function(){},e.render=function(){var t=this,e=this.retain?{subtree:"retain"}:this.view();e.attrs=e.attrs||{};var n=e.attrs.config;return e.attrs.config=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.element=r[0],t.config.apply(t,r.slice(1)),n&&n.apply(t,r)},e},e.$=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=$(this.element);return t?e.find(t):e})),e.config=function(){},e.view=function(){throw new Error("Component#view must be implemented by subclass")},t.component=function(t,e){void 0===t&&(t={}),void 0===e&&(e=null);var n=Object(r.a)({},t);e&&(n.children=e),this.initProps(n);var i=function(t){return t.props=n,t.render()};i.$original=this.prototype.view;var o={controller:this.bind(void 0,n),view:i,props:n,component:this};return n.key&&(o.attrs={key:n.key}),o},t.initProps=function(t){},t}()},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t,e){this.content=t,this.priority=e},i=function(){function t(){this.items={}}var e=t.prototype;return e.isEmpty=function(){for(var t in this.items)if(this.items.hasOwnProperty(t))return!1;return!0},e.has=function(t){return!!this.items[t]},e.get=function(t){return this.items[t].content},e.add=function(t,e,n){return void 0===n&&(n=0),this.items[t]=new r(e,n),this},e.replace=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this.items[t]&&(null!==e&&(this.items[t].content=e),null!==n&&(this.items[t].priority=n)),this},e.remove=function(t){return delete this.items[t],this},e.merge=function(t){for(var e in t.items)t.items.hasOwnProperty(e)&&t.items[e]instanceof r&&(this.items[e]=t.items[e]);return this},e.toArray=function(){var t=[];for(var e in this.items)this.items.hasOwnProperty(e)&&this.items[e]instanceof r&&(this.items[e].content=Object(this.items[e].content),this.items[e].content.itemName=e,t.push(this.items[e]),this.items[e].key=t.length);return t.sort((function(t,e){return t.priority===e.priority?t.key-e.key:t.priority>e.priority?-1:1})).map((function(t){return t.content}))},t}()},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e={}),e.className="icon "+t+" "+(e.className||""),m("i",e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(20),i=n(25);function o(t){return t&&t.component===r.a}function a(t){return t instanceof Array||(t=[t]),function(t){var e,n=[];return t.forEach((function(r,i){(!o(r)||e&&!o(e)&&i!==t.length-1)&&(e=r,n.push(r))})),n}(t).map((function(t){var e=t.component&&t.component.isListItem,n=t.component&&t.component.isActive&&t.component.isActive(t.props),r=t.props?t.props.itemClassName:t.itemClassName;return e&&(t.attrs=t.attrs||{},t.attrs.key=t.attrs.key||t.itemName),e?t:m("li",{className:Object(i.a)([t.itemName?"item-"+t.itemName:"",r,n?"active":""]),key:t.itemName},t)}))}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t instanceof Array?t.map((function(t){return r(t)})).join(""):"object"==typeof t&&null!==t?r(t.children):t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){var n=t[e];return delete t[e],n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(4),i=n(0),o=n(1),a=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e}(o.a);Object(r.a)(a.prototype,{nameSingular:o.a.attribute("nameSingular"),namePlural:o.a.attribute("namePlural"),color:o.a.attribute("color"),icon:o.a.attribute("icon")}),a.ADMINISTRATOR_ID="1",a.GUEST_ID="2",a.MEMBER_ID="3",e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(3),o=(n(16),n(2)),a=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.init=function(){this.alert=null},n.view=function(){return this.alert&&(this.alert.props.dismissible=!1),m("div",{className:"Modal modal-dialog "+this.className()},m("div",{className:"Modal-content"},this.isDismissible()?m("div",{className:"Modal-close App-backControl"},o.a.component({icon:"fas fa-times",onclick:this.hide.bind(this),className:"Button Button--icon Button--link"})):"",m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"Modal-header"},m("h3",{className:"App-titleControl App-titleControl--text"},this.title())),alert?m("div",{className:"Modal-alert"},this.alert):"",this.content())))},n.isDismissible=function(){return!0},n.className=function(){},n.title=function(){},n.content=function(){},n.onsubmit=function(){},n.onready=function(){this.$("form").find("input, select, textarea").first().focus().select()},n.onhide=function(){},n.hide=function(){app.modal.close()},n.loaded=function(){this.loading=!1,m.redraw()},n.onerror=function(t){this.alert=t.alert,m.redraw(),422===t.status&&t.response.errors?this.$('form [name="'+t.response.errors[0].source.pointer.replace("/data/attributes/","")+'"]').select():this.onready()},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(3),o=n(6),a=n(7),s=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.className=e.className||"",e.buttonClassName=e.buttonClassName||"",e.menuClassName=e.menuClassName||"",e.label=e.label||"",e.caretIcon=void 0!==e.caretIcon?e.caretIcon:"fas fa-caret-down"};var n=e.prototype;return n.init=function(){this.showing=!1},n.view=function(){var t=this.props.children?Object(a.a)(this.props.children):[];return m("div",{className:"ButtonGroup Dropdown dropdown "+this.props.className+" itemCount"+t.length+(this.showing?" open":"")},this.getButton(),this.getMenu(t))},n.config=function(t){var e=this;t||(this.$("> .Dropdown-toggle").dropdown(),this.element.addEventListener("shown.bs.dropdown",(function(){e.showing=!0,e.props.onshow&&e.props.onshow(),m.redraw();var t=e.$(".Dropdown-menu"),n=t.hasClass("Dropdown-menu--right");t.removeClass("Dropdown-menu--top Dropdown-menu--right"),t.toggleClass("Dropdown-menu--top",t.offset().top+t.height()>$(window).scrollTop()+$(window).height()),t.offset().top<0&&t.removeClass("Dropdown-menu--top"),t.toggleClass("Dropdown-menu--right",n||t.offset().left+t.width()>$(window).scrollLeft()+$(window).width())})),this.element.addEventListener("hidden.bs.dropdown",(function(){e.showing=!1,e.props.onhide&&e.props.onhide(),m.redraw()})))},n.getButton=function(){return m("button",{className:"Dropdown-toggle "+this.props.buttonClassName,"data-toggle":"dropdown",onclick:this.props.onclick},this.getButtonContent())},n.getButtonContent=function(){return[this.props.icon?Object(o.a)(this.props.icon,{className:"Button-icon"}):"",m("span",{className:"Button-label"},this.props.label),this.props.caretIcon?Object(o.a)(this.props.caretIcon,{className:"Button-caret"}):""]},n.getMenu=function(t){return m("ul",{className:"Dropdown-menu dropdown-menu "+this.props.menuClassName},t)},e}(i.a)},function(t,e,n){"use strict";var r=n(4),i=n(0),o=n(3),a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},c=function(){function t(t){void 0===t&&(t={}),this.opts=a({},s,t)}return t.prototype.spin=function(t){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),u(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),function(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",r="none";!0===e.shadow?r="0 2px 4px #000":"string"==typeof e.shadow&&(r=e.shadow);for(var i=function(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,i=t.split(",");r<i.length;r++){var o=i[r].match(e);if(null!==o){var a=+o[2],s=+o[5],c=o[4],u=o[7];0!==a||c||(c=u),0!==s||u||(u=c),c===u&&n.push({prefix:o[1]||"",x:a,y:s,xUnits:c,yUnits:u,end:o[8]})}}return n}(r),o=0;o<e.lines;o++){var a=~~(360/e.lines*o+e.rotate),s=u(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:l(e.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+e.radius+"px)"}),c=o*e.direction/e.lines/e.speed;c-=1/e.speed;var d=u(document.createElement("div"),{width:"100%",height:"100%",background:l(e.color,o),borderRadius:n,boxShadow:p(i,a),animation:1/e.speed+"s linear "+c+"s infinite "+e.animation});s.appendChild(d),t.appendChild(s)}}(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function u(t,e){for(var n in e)t.style[n]=e[n];return t}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function p(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],a=d(o.x,o.y,e);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}function d(t,e,n){var r=n*Math.PI/180,i=Math.sin(r),o=Math.cos(r);return[Math.round(1e3*(t*o+e*i))/1e3,Math.round(1e3*(-t*i+e*o))/1e3]}n.d(e,"a",(function(){return f}));var f=function(t){function e(){return t.apply(this,arguments)||this}Object(i.a)(e,t);var n=e.prototype;return n.view=function(){var t=Object(r.a)({},this.props);return t.className="LoadingIndicator "+(t.className||""),delete t.size,m("div",t,m.trust("&nbsp;"))},n.config=function(t){if(!t){var e={zIndex:"auto",color:this.$().css("color")};switch(this.props.size){case"large":Object(r.a)(e,{lines:10,length:8,width:4,radius:8});break;case"tiny":Object(r.a)(e,{lines:8,length:2,width:2,radius:3});break;default:Object(r.a)(e,{lines:8,length:4,width:3,radius:5})}new c(e).spin(this.element)}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4);function i(t,e){void 0===e&&(e={}),e.className="Avatar "+(e.className||"");var n="",i="undefined"===e.title||e.title;if(i||delete e.title,t){var o=t.displayName()||"?",a=t.avatarUrl();if(i&&(e.title=e.title||o),a)return m("img",Object(r.a)({},e,{src:a}));n=o.charAt(0).toUpperCase(),e.style={background:t.color()}}return m("span",e,n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(4),i=n(0),o=n(3),a=n(2),s=n(7),c=n(10),u=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e.prototype.view=function(){var t=Object(r.a)({},this.props),e=Object(c.a)(t,"type");t.className="Alert Alert--"+e+" "+(t.className||"");var n=Object(c.a)(t,"children"),i=Object(c.a)(t,"controls")||[],o=Object(c.a)(t,"dismissible"),u=Object(c.a)(t,"ondismiss"),l=[];return(o||void 0===o)&&l.push(m(a.a,{icon:"fas fa-times",className:"Button Button--link Button--icon Alert-dismiss",onclick:u})),m("div",t,m("span",{className:"Alert-body"},n),m("ul",{className:"Alert-controls"},Object(s.a)(i.concat(l))))},e}(o.a)},function(t,e,n){"use strict";function r(t){var e=t&&t.displayName()||app.translator.trans("core.lib.username.deleted_text");return m("span",{className:"username"},e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e.slice(0,-1),o=e.slice(-1)[0],a={};return function(){var t=this,e=!1;return i.forEach((function(n){var r="function"==typeof t[n]?t[n]():t[n];a[n]!==r&&(e=!0,a[n]=r)})),e&&(r=o.apply(this,i.map((function(t){return a[t]})))),r}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.initProps=function(t){t.active=this.isActive(t),t.config=t.config||m.route},e.prototype.view=function(){var e=t.prototype.view.call(this);return e.tag="a",e},e.isActive=function(t){return void 0!==t.active?t.active:m.route()===t.href},e}(n(2).a)},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.view=function(){return m("li",{className:"Dropdown-separator"})},e}(n(3).a);i.isListItem=!0,e.a=i},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){var e=dayjs(t),n=dayjs();e.isAfter(n)&&(e=n);return e.diff(dayjs())<-2592e6?e.year()===dayjs().year()?e.format("D MMM"):e.format("MMM 'YY"):e.fromNow()}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n(0),o=n(3),a=n(6),s=n(10),c=function(t){function e(){return t.apply(this,arguments)||this}Object(i.a)(e,t);var n=e.prototype;return n.view=function(){var t=Object(r.a)({},this.props),e=Object(s.a)(t,"type"),n=Object(s.a)(t,"icon");return t.className="Badge "+(e?"Badge--"+e:"")+" "+(t.className||""),t.title=Object(s.a)(t,"label")||"",m("span",t,n?Object(a.a)(n,{className:"Badge-icon"}):m.trust("&nbsp;"))},n.config=function(t){t||this.props.label&&this.$().tooltip({container:"body"})},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(3),o=n(7),a=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.view=function(){return m("fieldset",{className:this.props.className},m("legend",null,this.props.label),m("ul",null,Object(o.a)(this.props.children)))},e}(i.a)},function(t,e,n){"use strict";function r(t){var e;if(t instanceof Array)e=t.filter((function(t){return t}));else for(var n in e=[],t)t[n]&&e.push(n);return e.join(" ")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=0),(n>0?"...":"")+t.substring(n,n+e)+(t.length>n+e?"...":"")}function i(t){return t.toLowerCase().replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").replace(/-$|^-/g,"")}function o(t){var e=t.replace(/(<\/p>|<br>)/g,"$1 &nbsp;").replace(/<img\b[^>]*>/gi," "),n=$("<div/>").html(e);return n.find(o.removeSelectors.join(",")).remove(),n.text().replace(/\s+/g," ").trim()}function a(t){return t.substr(0,1).toUpperCase()+t.substr(1)}n.r(e),n.d(e,"truncate",(function(){return r})),n.d(e,"slug",(function(){return i})),n.d(e,"getPlainContent",(function(){return o})),n.d(e,"ucfirst",(function(){return a})),o.removeSelectors=["blockquote","script"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(13),o=n(6),a=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.initProps=function(e){e.caretIcon=void 0!==e.caretIcon?e.caretIcon:"fas fa-sort",t.initProps.call(this,e),e.className+=" Dropdown--select"},e.prototype.getButtonContent=function(){var t=this.props.children.filter((function(t){return t.props.active}))[0],e=t&&t.props.children||this.props.defaultLabel;return e instanceof Array&&(e=e[0]),[m("span",{className:"Button-label"},e),Object(o.a)(this.props.caretIcon,{className:"Button-caret"})]},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.group&&(e.icon=e.group.icon(),e.style={backgroundColor:e.group.color()},e.label=void 0===e.label?e.group.nameSingular():e.label,e.type="group--"+e.group.id(),delete e.group)},e}(n(23).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(26);function i(t,e,n){if(!e&&!n)return t;var i=e instanceof RegExp?e:new RegExp(e,"gi"),o=t,a=0;return n&&(e&&(a=Math.max(0,t.search(i)-n/2)),o=Object(r.truncate)(o,n,a)),o=$("<div/>").text(o).html(),e&&(o=o.replace(i,"<mark>$&</mark>")),m.trust(o)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},i=function(){function t(t){this.callback=t,this.ticking=!1}var e=t.prototype;return e.loop=function(){var t=this;this.ticking||(r((function(){t.update(),t.ticking=!1})),this.ticking=!0)},e.update=function(){this.callback(window.pageYOffset)},e.start=function(){this.active||window.addEventListener("scroll",this.active=this.loop.bind(this))},e.stop=function(){window.removeEventListener("scroll",this.active),this.active=null},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"extend",(function(){return i})),n.d(e,"override",(function(){return o}));var r=n(4);function i(t,e,n){var i=t[e];t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=i?i.apply(this,e):void 0;return n.apply(this,[o].concat(e)),o},Object(r.a)(t[e],i)}function o(t,e,n){var i=t[e];t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,[i.bind(this)].concat(e))},Object(r.a)(t[e],i)}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.className=(e.className||"")+" Checkbox--switch"},e.prototype.getDisplay=function(){return this.loading?t.prototype.getDisplay.call(this):""},e}(n(38).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(4),i=n(0),o=n(1),a=n(47),s=n(5),c=n(18),u=n(28),l=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e}(o.a);Object(r.a)(l.prototype,{username:o.a.attribute("username"),displayName:o.a.attribute("displayName"),email:o.a.attribute("email"),isEmailConfirmed:o.a.attribute("isEmailConfirmed"),password:o.a.attribute("password"),avatarUrl:o.a.attribute("avatarUrl"),preferences:o.a.attribute("preferences"),groups:o.a.hasMany("groups"),joinTime:o.a.attribute("joinTime",o.a.transformDate),lastSeenAt:o.a.attribute("lastSeenAt",o.a.transformDate),markedAllAsReadAt:o.a.attribute("markedAllAsReadAt",o.a.transformDate),unreadNotificationCount:o.a.attribute("unreadNotificationCount"),newNotificationCount:o.a.attribute("newNotificationCount"),discussionCount:o.a.attribute("discussionCount"),commentCount:o.a.attribute("commentCount"),canEdit:o.a.attribute("canEdit"),canDelete:o.a.attribute("canDelete"),avatarColor:null,color:Object(c.a)("username","avatarUrl","avatarColor",(function(t,e,n){return n?"rgb("+n.join(", ")+")":e?(this.calculateAvatarColor(),""):"#"+Object(a.a)(t)})),isOnline:function(){return this.lastSeenAt()>dayjs().subtract(5,"minutes").toDate()},badges:function(){var t=new s.a,e=this.groups();return e&&e.forEach((function(e){t.add("group"+e.id(),u.a.component({group:e}))})),t},calculateAvatarColor:function(){var t=new Image,e=this;t.onload=function(){var t=new ColorThief;e.avatarColor=t.getColor(this),e.freshness=new Date,m.redraw()},t.crossOrigin="anonymous",t.src=this.avatarUrl()},savePreferences:function(t){var e=this.preferences();return Object(r.a)(e,t),this.save({preferences:e})}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks=e,this.data={}}var e=t.prototype;return e.retain=function(){var t=this,e=!1;return this.callbacks.forEach((function(n,r){var i=n();i!==t.data[r]&&(t.data[r]=i,e=!0)})),!e&&{subtree:"retain"}},e.check=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks=this.callbacks.concat(e)},e.invalidate=function(){this.data={}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(4),i=n(0),o=n(1),a=n(18),s=n(5),c=n(23),u=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e}(o.a);Object(r.a)(u.prototype,{title:o.a.attribute("title"),slug:o.a.attribute("slug"),createdAt:o.a.attribute("createdAt",o.a.transformDate),user:o.a.hasOne("user"),firstPost:o.a.hasOne("firstPost"),lastPostedAt:o.a.attribute("lastPostedAt",o.a.transformDate),lastPostedUser:o.a.hasOne("lastPostedUser"),lastPost:o.a.hasOne("lastPost"),lastPostNumber:o.a.attribute("lastPostNumber"),commentCount:o.a.attribute("commentCount"),replyCount:Object(a.a)("commentCount",(function(t){return Math.max(0,t-1)})),posts:o.a.hasMany("posts"),mostRelevantPost:o.a.hasOne("mostRelevantPost"),lastReadAt:o.a.attribute("lastReadAt",o.a.transformDate),lastReadPostNumber:o.a.attribute("lastReadPostNumber"),isUnread:Object(a.a)("unreadCount",(function(t){return!!t})),isRead:Object(a.a)("unreadCount",(function(t){return app.session.user&&!t})),hiddenAt:o.a.attribute("hiddenAt",o.a.transformDate),hiddenUser:o.a.hasOne("hiddenUser"),isHidden:Object(a.a)("hiddenAt",(function(t){return!!t})),canReply:o.a.attribute("canReply"),canRename:o.a.attribute("canRename"),canHide:o.a.attribute("canHide"),canDelete:o.a.attribute("canDelete"),removePost:function(t){var e=this.data.relationships,n=e&&e.posts;n&&n.data.some((function(e,r){if(t===e.id)return n.data.splice(r,1),!0}))},unreadCount:function(){var t=app.session.user;return t&&t.markedAllAsReadAt()<this.lastPostedAt()?Math.max(0,this.lastPostNumber()-(this.lastReadPostNumber()||0)):0},badges:function(){var t=new s.a;return this.isHidden()&&t.add("hidden",m(c.a,{type:"hidden",icon:"fas fa-trash",label:app.translator.trans("core.lib.badge.hidden_tooltip")})),t},postIds:function(){var t=this.data.relationships.posts;return t?t.data.map((function(t){return t.id})):[]}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(22);function i(t){var e=dayjs(t),n=e.format(),i=e.format("LLLL"),o=Object(r.a)(t);return m("time",{pubdate:!0,datetime:n,title:i,"data-humantime":!0},o)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(3),o=n(14),a=n(6),s=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.init=function(){this.loading=!1},n.view=function(){var t="Checkbox "+(this.props.state?"on":"off")+" "+(this.props.className||"");return this.loading&&(t+=" loading"),this.props.disabled&&(t+=" disabled"),m("label",{className:t},m("input",{type:"checkbox",checked:this.props.state,disabled:this.props.disabled,onchange:m.withAttr("checked",this.onchange.bind(this))}),m("div",{className:"Checkbox-display"},this.getDisplay()),this.props.children)},n.getDisplay=function(){return this.loading?o.a.component({size:"tiny"}):Object(a.a)(this.props.state?"fas fa-check":"fas fa-times")},n.onchange=function(t){this.props.onchange&&this.props.onchange(t,this)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n,r){this.status=t,this.responseText=e,this.options=n,this.xhr=r;try{this.response=JSON.parse(e)}catch(t){this.response=null}this.alert=null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(3),o=n(2),a=n(19),s=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.view=function(){var t=app,e=t.history,n=t.pane;return m("div",{className:"Navigation ButtonGroup "+(this.props.className||""),onmouseenter:n&&n.show.bind(n),onmouseleave:n&&n.onmouseleave.bind(n)},e.canGoBack()?[this.getBackButton(),this.getPaneButton()]:this.getDrawerButton())},n.config=function(t,e){e.retain=!0},n.getBackButton=function(){var t=app.history,e=t.getPrevious()||{};return a.a.component({className:"Button Navigation-back Button--icon",href:t.backUrl(),icon:"fas fa-chevron-left",title:e.title,config:function(){},onclick:function(e){e.shiftKey||e.ctrlKey||e.metaKey||2===e.which||(e.preventDefault(),t.back())}})},n.getPaneButton=function(){var t=app.pane;return t&&t.active?o.a.component({className:"Button Button--icon Navigation-pin"+(t.pinned?" active":""),onclick:t.togglePinned.bind(t),icon:"fas fa-thumbtack"}):""},n.getDrawerButton=function(){if(!this.props.drawer)return"";var t=app.drawer,e=app.session.user;return o.a.component({className:"Button Button--icon Navigation-drawer"+(e&&e.newNotificationCount()?" new":""),onclick:function(e){e.stopPropagation(),t.show()},icon:"fas fa-bars"})},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(3),o=n(6),a=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.view=function(){var t=this.props,e=t.options,n=t.onchange,r=t.value,i=t.disabled;return m("span",{className:"Select"},m("select",{className:"Select-input FormControl",onchange:n?m.withAttr("value",n.bind(this)):void 0,value:r,disabled:i},Object.keys(e).map((function(t){return m("option",{value:t},e[t])}))),Object(o.a)("fas fa-sort",{className:"Select-caret"}))},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3);function i(t){var e=t.m,n=function t(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(n.prototype&&n.prototype instanceof r.a){var s=o.slice(1);return 1===s.length&&Array.isArray(s[0])&&(s=s[0]),n.component(o[0],s)}var c=e.apply(this,arguments);return c.attrs.bidi&&t.bidi(c,c.attrs.bidi),c.attrs.route&&(c.attrs.href=c.attrs.route,c.attrs.config=t.route,delete c.attrs.route),c};Object.keys(e).forEach((function(t){return n[t]=e[t]})),n.lazyRedraw=function(){n.startComputation(),n.endComputation()},t.m=n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.view=function(){return m("div",{className:"Placeholder"},m("p",null,this.props.text))},e}(n(3).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(3),o=n(16),a=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.init=function(){this.components=[]},n.view=function(){return m("div",{className:"AlertManager"},this.components.map((function(t){return m("div",{className:"AlertManager-alert"},t)})))},n.config=function(t,e){e.retain=!0},n.show=function(t){if(!(t instanceof o.a))throw new Error("The AlertManager component can only show Alert components");t.props.ondismiss=this.dismiss.bind(this,t),this.components.push(t),m.redraw()},n.dismiss=function(t){var e=this.components.indexOf(t);-1!==e&&(this.components.splice(e,1),m.redraw())},n.clear=function(){this.components=[],m.redraw()},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.className=function(){return"RequestErrorModal Modal--large"},n.title=function(){return this.props.error.xhr?this.props.error.xhr.status+" "+this.props.error.xhr.statusText:""},n.content=function(){var t;try{t=JSON.stringify(JSON.parse(this.props.error.responseText),null,2)}catch(e){t=this.props.error.responseText}return m("div",{className:"Modal-body"},m("pre",null,this.props.error.options.method," ",this.props.error.options.url,m("br",null),m("br",null),t))},e}(n(12).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(4),i=(n(34),n(17)),o=n(10),a=function(){function t(){this.translations={},this.locale=null}var e=t.prototype;return e.addTranslations=function(t){Object(r.a)(this.translations,t)},e.trans=function(t,e){var n=this.translations[t];return n?this.apply(n,e||{}):t},e.transChoice=function(t,e,n){var r=this.translations[t];return r?(e=parseInt(e,10),r=this.pluralize(r,e),this.apply(r,n||{})):t},e.apply=function(t,e){if("user"in e){var n=Object(o.a)(e,"user");e.username||(e.username=Object(i.a)(n))}t=t.split(new RegExp("({[a-z0-9_]+}|</?[a-z0-9_]+>)","gi"));var r=[],a=[r];return t.forEach((function(t){var n=t.match(new RegExp("{([a-z0-9_]+)}|<(/?)([a-z0-9_]+)>","i"));if(n){if(n[1])a[0].push(e[n[1]]);else if(n[3])if(n[2])a.shift();else{var r=e[n[3]]||{tag:n[3],children:[]};a[0].push(r),a.unshift(r.children||r)}}else a[0].push(t)})),r.filter((function(t){return t}))},e.pluralize=function(t,e){var n=this,r=new RegExp(/^\w+\: +(.+)$/),i=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),o=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),a=[],s=[];return t.split("|").forEach((function(t){if(i.test(t)){var e=t.match(i);s[e[0]]=e[e.length-1]}else if(r.test(t)){var n=t.match(r);a.push(n[1])}else a.push(t)})),s.forEach((function(t,r){if(o.test(r)){var i=r.match(o);if(i[1]){var a=i[2].split(",");for(var c in a)if(e==a[c])return s[r]}else{var u=n.convertNumber(i[4]),l=n.convertNumber(i[5]);if(("["===i[3]?e>=u:e>u)&&("]"===i[6]?e<=l:e<l))return s[r]}}})),a[this.pluralPosition(e,this.locale)]||a[0]||void 0},e.convertNumber=function(t){return"-Inf"===t?Number.NEGATIVE_INFINITY:"+Inf"===t||"Inf"===t?Number.POSITIVE_INFINITY:parseInt(t,10)},e.pluralPosition=function(t,e){switch("pt_BR"===e&&(e="xbr"),e.length>3&&(e=e.split("_")[0]),e){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"tr":case"ur":case"zu":return 1==t?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===t||1==t?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1==t?0:t>=2&&t<=4?1:2;case"ga":return 1==t?0:2==t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mk":return t%10==1?0:1;case"mt":return 1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"lv":return 0===t?0:t%10==1&&t%100!=11?1:2;case"pl":return 1==t?0:t%10>=2&&t%10<=4&&(t%100<12||t%100>14)?1:2;case"cy":return 1==t?0:2==t?1:8==t||11==t?2:3;case"ro":return 1==t?0:0===t||t%100>0&&t%100<20?1:2;case"ar":return 0===t?0:1==t?1:2==t?2:t>=3&&t<=10?3:t>=11&&t<=99?4:5;default:return 0}},t}()},function(t,e,n){"use strict";function r(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);var r=function(t,e,n){var r,i,o,a=Math.floor(6*t),s=6*t-a,c=n*(1-e),u=n*(1-s*e),l=n*(1-(1-s)*e);switch(a%6){case 0:r=n,i=l,o=c;break;case 1:r=u,i=n,o=c;break;case 2:r=c,i=n,o=l;break;case 3:r=c,i=u,o=n;break;case 4:r=l,i=c,o=n;break;case 5:r=n,i=c,o=u}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}(e%360/360,.3,.9);return""+r.r.toString(16)+r.g.toString(16)+r.b.toString(16)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4),i=function(){function t(t){this.data={},this.models=t}var e=t.prototype;return e.pushPayload=function(t){t.included&&t.included.map(this.pushObject.bind(this));var e=t.data instanceof Array?t.data.map(this.pushObject.bind(this)):this.pushObject(t.data);return e.payload=t,e},e.pushObject=function(t){if(!this.models[t.type])return null;var e=this.data[t.type]=this.data[t.type]||{};return e[t.id]?e[t.id].pushData(t):e[t.id]=this.createRecord(t.type,t),e[t.id].exists=!0,e[t.id]},e.find=function(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i={});var o=n,a=app.forum.attribute("apiUrl")+"/"+t;return e instanceof Array?a+="?filter[id]="+e.join(","):"object"==typeof e?o=e:e&&(a+="/"+e),app.request(Object(r.a)({method:"GET",url:a,data:o},i)).then(this.pushPayload.bind(this))},e.getById=function(t,e){return this.data[t]&&this.data[t][e]},e.getBy=function(t,e,n){return this.all(t).filter((function(t){return t[e]()===n}))[0]},e.all=function(t){var e=this.data[t];return e?Object.keys(e).map((function(t){return e[t]})):[]},e.remove=function(t){delete this.data[t.data.type][t.id()]},e.createRecord=function(t,e){return void 0===e&&(e={}),e.type=e.type||t,new this.models[t](e,this)},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4),i=function(){function t(t,e){this.user=t,this.csrfToken=e}var e=t.prototype;return e.login=function(t,e){return void 0===e&&(e={}),app.request(Object(r.a)({method:"POST",url:app.forum.attribute("baseUrl")+"/login",data:t},e))},e.logout=function(){window.location=app.forum.attribute("baseUrl")+"/logout?token="+this.csrfToken},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){var t=this;$("#content").click((function(e){t.isOpen()&&(e.preventDefault(),t.hide())}))}var e=t.prototype;return e.isOpen=function(){return $("#app").hasClass("drawerOpen")},e.hide=function(){$("#app").removeClass("drawerOpen"),this.$backdrop&&this.$backdrop.remove()},e.show=function(){var t=this;$("#app").addClass("drawerOpen"),this.$backdrop=$("<div/>").addClass("drawer-backdrop fade").appendTo("body").click((function(){return t.hide()})),setTimeout((function(){return t.$backdrop.addClass("in")}))},t}()},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e="");var n={};for(var r in t){var i=t[r];i.component&&(i.component.props.routeName=r),n[e+i.path]=i.component}return n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.apiEndpoint=function(){return"/"},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n(0),o=n(1),a=n(18),s=n(26),c=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e}(o.a);Object(r.a)(c.prototype,{number:o.a.attribute("number"),discussion:o.a.hasOne("discussion"),createdAt:o.a.attribute("createdAt",o.a.transformDate),user:o.a.hasOne("user"),contentType:o.a.attribute("contentType"),content:o.a.attribute("content"),contentHtml:o.a.attribute("contentHtml"),contentPlain:Object(a.a)("contentHtml",s.getPlainContent),editedAt:o.a.attribute("editedAt",o.a.transformDate),editedUser:o.a.hasOne("editedUser"),isEdited:Object(a.a)("editedAt",(function(t){return!!t})),hiddenAt:o.a.attribute("hiddenAt",o.a.transformDate),hiddenUser:o.a.hasOne("hiddenUser"),isHidden:Object(a.a)("hiddenAt",(function(t){return!!t})),canEdit:o.a.attribute("canEdit"),canHide:o.a.attribute("canHide"),canDelete:o.a.attribute("canDelete")})},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(4),i=n(0),o=n(1),a=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e}(o.a);Object(r.a)(a.prototype,{contentType:o.a.attribute("contentType"),content:o.a.attribute("content"),createdAt:o.a.attribute("createdAt",o.a.transformDate),isRead:o.a.attribute("isRead"),user:o.a.hasOne("user"),fromUser:o.a.hasOne("fromUser"),subject:o.a.hasOne("subject")})},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(5),a=n(16),s=n(2),c=n(56),u=n(44),l=n(45),p=n(46),d=n(48),f=n(49),h=n(10),v=n(50),g=n(51),b=n(39),y=n(30),w=n(31),x=n(52),O=n(34),_=n(36),E=n(53),N=n(11),k=n(54);var j=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},C=n(69),T="object"==typeof self&&self&&self.Object===Object&&self,S=(C.a||T||Function("return this")()).Symbol,M=Object.prototype,A=M.hasOwnProperty,D=M.toString,P=S?S.toStringTag:void 0;var L=function(t){var e=A.call(t,P),n=t[P];try{t[P]=void 0;var r=!0}catch(t){}var i=D.call(t);return r&&(e?t[P]=n:delete t[P]),i},I=Object.prototype.toString;var B=function(t){return I.call(t)},R=S?S.toStringTag:void 0;var F=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":R&&R in Object(t)?L(t):B(t)};var H=function(t){return null!=t&&"object"==typeof t};var q=function(t){return H(t)&&"[object Arguments]"==F(t)},U=Object.prototype,z=U.hasOwnProperty,Y=U.propertyIsEnumerable,G=q(function(){return arguments}())?q:function(t){return H(t)&&z.call(t,"callee")&&!Y.call(t,"callee")},W=Array.isArray,V=S?S.isConcatSpreadable:void 0;var Z=function(t){return W(t)||G(t)||!!(V&&t&&t[V])};var K=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Z),o||(o=[]);++a<s;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,i,o):j(o,c):i||(o[o.length]=c)}return o};var J=function(t){return(null==t?0:t.length)?K(t,1/0):[]};n.d(e,"a",(function(){return X}));var X=function(){function t(){Object(i.a)(this,"forum",null),Object(i.a)(this,"routes",{}),Object(i.a)(this,"initializers",new o.a),Object(i.a)(this,"session",null),Object(i.a)(this,"translator",new p.a),Object(i.a)(this,"store",new d.a({forums:x.a,users:O.a,discussions:_.a,posts:E.a,groups:N.a,notifications:k.a})),Object(i.a)(this,"cache",{}),Object(i.a)(this,"booted",!1),Object(i.a)(this,"requestError",null),Object(i.a)(this,"data",void 0),Object(i.a)(this,"title",""),Object(i.a)(this,"titleCount",0)}var e=t.prototype;return e.load=function(t){this.data=t,this.translator.locale=t.locale},e.boot=function(){var t=this;this.initializers.toArray().forEach((function(e){return e(t)})),this.store.pushPayload({data:this.data.resources}),this.forum=this.store.getById("forums",1),this.session=new f.a(this.store.getById("users",this.data.session.userId),this.data.session.csrfToken),this.mount()},e.bootExtensions=function(t){var e=this;Object.keys(t).forEach((function(n){var r=t[n],i=J(r.extend),o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}s.extend(e,{name:n,exports:r})}}))},e.mount=function(t){void 0===t&&(t=""),this.modal=m.mount(document.getElementById("modal"),m(c.a,null)),this.alerts=m.mount(document.getElementById("alerts"),m(u.a,null)),this.drawer=new v.a,m.route(document.getElementById("content"),t+"/",Object(g.a)(this.routes,t)),new y.a((function(t){var e=$("#app"),n=e.offset().top;e.toggleClass("affix",t>=n).toggleClass("scrolled",t>n)})).start(),$((function(){$("body").addClass("ontouchstart"in window?"touch":"no-touch")}))},e.preloadedApiDocument=function(){if(this.data.apiDocument){var t=this.store.pushPayload(this.data.apiDocument);return this.data.apiDocument=null,t}return null},e.setTitle=function(t){this.title=t,this.updateTitle()},e.setTitleCount=function(t){this.titleCount=t,this.updateTitle()},e.updateTitle=function(){document.title=(this.titleCount?"("+this.titleCount+") ":"")+(this.title?this.title+" - ":"")+this.forum.attribute("title")},e.request=function(t){var e=this,n=Object(r.a)({},t);if(n.background=n.background||!0,Object(w.extend)(n,"config",(function(t,n){return n.setRequestHeader("X-CSRF-Token",e.session.csrfToken)})),"GET"!==n.method&&"POST"!==n.method){var i=n.method;Object(w.extend)(n,"config",(function(t,e){return e.setRequestHeader("X-HTTP-Method-Override",i)})),n.method="POST"}n.deserialize=n.deserialize||function(t){return t},n.errorHandler=n.errorHandler||function(t){throw t};var o=n.extract;n.extract=function(t){var e;e=o?o(t.responseText):t.responseText||null;var r=t.status;if(r<200||r>299)throw new b.a(r,e,n,t);if(t.getResponseHeader){var i=t.getResponseHeader("X-CSRF-Token");i&&(app.session.csrfToken=i)}try{return JSON.parse(e)}catch(r){throw new b.a(500,e,n,t)}},this.requestError&&this.alerts.dismiss(this.requestError.alert);var c=m.deferred();return m.request(n).then((function(t){return c.resolve(t)}),(function(t){var r;switch(e.requestError=t,t.status){case 422:r=t.response.errors.map((function(t){return[t.detail,m("br",null)]})).reduce((function(t,e){return t.concat(e)}),[]).slice(0,-1);break;case 401:case 403:r=app.translator.trans("core.lib.error.permission_denied_message");break;case 404:case 410:r=app.translator.trans("core.lib.error.not_found_message");break;case 429:r=app.translator.trans("core.lib.error.rate_limit_exceeded_message");break;default:r=app.translator.trans("core.lib.error.generic_message")}var i=app.forum.attribute("debug");t.alert=new a.a({type:"error",children:r,controls:i&&[m(s.a,{className:"Button Button--link",onclick:e.showDebug.bind(e,t)},"Debug")]});try{n.errorHandler(t)}catch(t){e.alerts.show(t.alert)}c.reject(t)})),c.promise},e.showDebug=function(t){this.alerts.dismiss(this.requestError.alert),this.modal.show(new l.a({error:t}))},e.route=function(t,e){void 0===e&&(e={});var n=this.routes[t].path.replace(/:([^\/]+)/g,(function(t,n){return Object(h.a)(e,n)})),r=m.route.buildQueryString(e);return("pathname"===m.route.mode?app.forum.attribute("basePath"):"")+n+(r?"?"+r:"")},t}()},function(t,e,n){"use strict";var r=n(0);var i=(()=>{const t=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];class e{constructor({targetModal:t,triggers:e=[],onShow:n=(()=>{}),onClose:r=(()=>{}),openTrigger:i="data-micromodal-trigger",closeTrigger:o="data-micromodal-close",disableScroll:a=!1,disableFocus:s=!1,awaitCloseAnimation:c=!1,awaitOpenAnimation:u=!1,debugMode:l=!1}){this.modal=document.getElementById(t),this.config={debugMode:l,disableScroll:a,openTrigger:i,closeTrigger:o,onShow:n,onClose:r,awaitCloseAnimation:c,awaitOpenAnimation:u,disableFocus:s},e.length>0&&this.registerTriggers(...e),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}registerTriggers(...t){t.filter(Boolean).forEach(t=>{t.addEventListener("click",t=>this.showModal(t))})}showModal(){if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){const t=()=>{this.modal.removeEventListener("animationend",t,!1),this.setFocusToFirstNode()};this.modal.addEventListener("animationend",t,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement)}closeModal(){const t=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",(function e(){t.classList.remove("is-open"),t.removeEventListener("animationend",e,!1)}),!1):t.classList.remove("is-open")}closeModalById(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}scrollBehaviour(t){if(!this.config.disableScroll)return;const e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:"",height:""});break;case"disable":Object.assign(e.style,{overflow:"hidden",height:"100vh"})}}addEventListeners(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}removeEventListeners(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}onClick(t){t.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),t.preventDefault())}onKeydown(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.maintainFocus(t)}getFocusableNodes(){const e=this.modal.querySelectorAll(t);return Array(...e)}setFocusToFirstNode(){if(this.config.disableFocus)return;const t=this.getFocusableNodes();t.length&&t[0].focus()}maintainFocus(t){const e=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){const n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}else e[0].focus()}}let n=null;const r=t=>{if(!document.getElementById(t))return console.warn(`MicroModal: ❗Seems like you have missed %c'${t}'`,"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",`<div class="modal" id="${t}"></div>`),!1},i=(t,e)=>{if((t=>{if(t.length<=0)console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>')})(t),!e)return!0;for(var n in e)r(n);return!0};return{init:t=>{const r=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),o=[...document.querySelectorAll(`[${r.openTrigger}]`)],a=((t,e)=>{const n=[];return t.forEach(t=>{const r=t.attributes[e].value;void 0===n[r]&&(n[r]=[]),n[r].push(t)}),n})(o,r.openTrigger);if(!0!==r.debugMode||!1!==i(o,a))for(var s in a){let t=a[s];r.targetModal=s,r.triggers=[...t],n=new e(r)}},show:(t,i)=>{const o=i||{};o.targetModal=t,!0===o.debugMode&&!1===r(t)||(n=new e(o),n.showModal())},close:t=>{t?n.closeModalById(t):n.closeModal()}}})(),o=n(3),a=n(12);n.d(e,"a",(function(){return s}));var s=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.init=function(){this.showing=!1,this.component=null},n.view=function(){return m("div",{className:"ModalManager modal",id:"Modal",onclick:this.onclick.bind(this)},this.component&&this.component.render())},n.config=function(t,e){t||(e.retain=!0)},n.show=function(t){var e=this;if(!(t instanceof a.a))throw new Error("The ModalManager component can only show Modal components");clearTimeout(this.hideTimeout),this.showing=!0,this.component=t,app.current&&(app.current.retain=!0),m.redraw(!0),$(".modal-backdrop").length||$("<div />").addClass("modal-backdrop").appendTo("body"),i.show("Modal",{awaitCloseAnimation:!0,onClose:function(){$(".modal-backdrop").fadeOut(200,(function(){this.remove()})),e.showing=!1}}),this.onready()},n.onclick=function(t){t.target===this.element&&this.close()},n.close=function(){this.showing&&(this.hideTimeout=setTimeout((function(){return i.close("Modal")})))},n.clear=function(){this.component&&this.component.onhide(),this.component=null,app.current.retain=!1,m.lazyRedraw()},n.onready=function(){this.component&&this.component.onready&&this.component.onready(this.$())},e}(o.a)},function(t,e,n){"use strict";function r(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){var n=$(window),r=$(t);if(!t||!r.length)return e();var i=r.offset().top-n.scrollTop();e(),n.scrollTop(r.offset().top-i)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a={handlers:null,getHandlers:function(t){return this.handlers=this.handlers||{},this.handlers[t]=this.handlers[t]||[],this.handlers[t]},trigger:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.getHandlers(t).forEach((function(t){return t.apply(e,r)}))},on:function(t,e){this.getHandlers(t).push(e)},one:function(t,e){this.getHandlers(t).push((function n(){e.apply(this,arguments),this.off(t,n)}))},off:function(t,e){var n=this.getHandlers(t),r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n(0),o=n(13),a=n(2),s=n(6),c=function(t){function e(){return t.apply(this,arguments)||this}Object(i.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.className+=" Dropdown--split",e.menuClassName+=" Dropdown-menu--right"};var n=e.prototype;return n.getButton=function(){var t=this.getFirstChild(),e=Object(r.a)({},t.props);return e.className=(e.className||"")+" SplitDropdown-button Button "+this.props.buttonClassName,[a.a.component(e),m("button",{className:"Dropdown-toggle Button Button--icon "+this.props.buttonClassName,"data-toggle":"dropdown"},Object(s.a)(this.props.icon,{className:"Button-icon"}),Object(s.a)("fas fa-caret-down",{className:"Button-caret"}))]},n.getFirstChild=function(){for(var t=this.props.children;t instanceof Array;)t=t[0];return t},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(6);function i(t){if(t.lastSeenAt()&&t.isOnline())return m("span",{className:"UserOnline"},Object(r.a)("fas fa-circle"))}},function(t,e,n){"use strict";function r(t){var e=dayjs(t),n=e.format(),r=e.format("LLLL");return m("time",{pubdate:!0,datetime:n},r)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t>=1e6?Math.floor(t/1e6)+app.translator.trans("core.lib.number_suffix.mega_text"):t>=1e3?Math.floor(t/1e3)+app.translator.trans("core.lib.number_suffix.kilo_text"):t.toString()}n.d(e,"a",(function(){return r}))},function(t,e,n){(function(t){var r;!function(i,o){"use strict";var a=function t(e,n){b.version=function(){return"v0.2.8"};var r={}.hasOwnProperty,i={}.toString;function o(t){return"function"==typeof t}function a(t){return"[object Object]"===i.call(t)}function s(t){return"[object String]"===i.call(t)}var c=Array.isArray||function(t){return"[object Array]"===i.call(t)};function u(){}var l,p,d,f,h={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};function m(t,e){for(var n,r=[],i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g;n=i.exec(e);)if(""===n[1]&&n[2])t.tag=n[2];else if("#"===n[1])t.attrs.id=n[2];else if("."===n[1])r.push(n[2]);else if("["===n[3].charAt(0)){var o=n[6];o&&(o=o.replace(/\\(["'])/g,"$1")),"class"===n[4]?r.push(o):t.attrs[n[4]]=o||!0}return r}function v(t,e){var n=e?t.slice(1):t;return 1===n.length&&c(n[0])?n[0]:n}function g(t,e,n){var i="class"in e?"class":"className";for(var o in e)r.call(e,o)&&(o===i&&null!=e[o]&&""!==e[o]?(n.push(e[o]),t[o]=""):t[o]=e[o]);n.length&&(t[i]=n.join(" "))}function b(t,e){for(var n=[],r=1,i=arguments.length;r<i;r++)n[r-1]=arguments[r];if(t&&o(t.view))return ot(t,n);if(!s(t))throw new Error("selector in m(selector, attrs, children) should be a string");var c=null!=e&&a(e)&&!("tag"in e||"view"in e||"subtree"in e),u=c?e:{},l={tag:"div",attrs:{},children:v(n,c)};return g(l.attrs,u,m(l,t)),l}function y(t,e){for(var n=0;n<t.length&&!e(t[n],n++););}function w(t,e){y(t,(function(t,n){return(t=t&&t.attrs)&&null!=t.key&&e(t,n)}))}function x(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}b.deps=function(t){return function(t){l=t.document,p=t.location,f=t.cancelAnimationFrame||t.clearTimeout,d=t.requestAnimationFrame||t.setTimeout}(e=t||window),e},b.deps.factory=b.factory=t,b.deps(e);function O(t,e,n,i){var o=t.length!==e.length;return o||w(t,(function(t,n){var r=e[n];return o=r&&r.attrs&&r.attrs.key!==t.key})),o?function(t,e,n,i){w(t,(function(t,r){e[t=t.key]=e[t]?{action:3,index:r,from:e[t].index,element:n.nodes[e[t].index]||l.createElement("div")}:{action:2,index:r}}));var o=[];for(var a in e)r.call(e,a)&&o.push(e[a]);var s=o.sort(L),c=new Array(n.length);return c.nodes=n.nodes.slice(),y(s,(function(e){var r=e.index;if(1===e.action&&(H(n[r].nodes,n[r]),c.splice(r,1)),2===e.action){var o=l.createElement("div");o.key=t[r].attrs.key,x(i,o,r),c.splice(r,0,{attrs:{key:t[r].attrs.key},nodes:[o]}),c.nodes[r]=o}if(3===e.action){var a=e.element,s=i.childNodes[r];s!==a&&null!==a&&i.insertBefore(a,s||null),c[r]=n[e.from],c.nodes[r]=a}})),c}(t,n,e,i):e}function _(t,e,n){(function(t,e,n){return t.tag!==e.tag||(n.sort().join()!==Object.keys(e.attrs).sort().join()||(t.attrs.id!==e.attrs.id||(t.attrs.key!==e.attrs.key||("all"===b.redraw.strategy()?!e.configContext||!0!==e.configContext.retain:"diff"===b.redraw.strategy()&&(e.configContext&&!1===e.configContext.retain)))))})(t,e,n)&&(e.nodes.length&&H(e.nodes),e.configContext&&o(e.configContext.onunload)&&e.configContext.onunload(),e.controllers&&y(e.controllers,(function(t){t.onunload&&t.onunload({preventDefault:u})})))}var E=0;function N(t,e,n,r,i,o){var a=e.nodes;return r&&r===l.activeElement&&t===e||(t.$trusted?(H(a,e),a=z(n,i,t)):"textarea"===o?n.value=t:r?(r.innerHTML=t,a=[].slice.call(r.childNodes)):((1===a[0].nodeType||a.length>1||a[0].nodeValue.trim&&!a[0].nodeValue.trim())&&(H(e.nodes,e),a=[l.createTextNode(t)]),function(t,e,n,r){try{x(t,e,n),e.nodeValue=r}catch(t){}}(n,a[0],i,t))),(e=new t.constructor(t)).nodes=a,e.$trusted=t.$trusted,e}function k(t,e,n,r,i,o,a){return t.nodes.length?t.valueOf()!==e.valueOf()||i?N(e,t,r,o,n,a):(t.nodes.intact=!0,t):function(t,e,n){var r,i;return t.$trusted?r=z(e,n,t):(r=[l.createTextNode(t)],e.nodeName in h||x(e,r[0],n)),(i="string"==typeof t||"number"==typeof t||"boolean"==typeof t?new t.constructor(t):t).nodes=r,i}(e,r,n)}function j(t){return t.$trusted?t.nodes.length:c(t)?t.length:1}function C(t,e,r,i,o,a,s,u,l){t=function(t){for(var e=0;e<t.length;e++)c(t[e])&&(t=t.concat.apply([],t),e--);return t}(t);var p=e.length===t.length,d=0,f={},h=!1;w(e,(function(t,n){h=!0,f[e[n].attrs.key]={action:1,index:n}})),function(t){var e=0;w(t,(function(){return y(t,(function(t){(t=t&&t.attrs)&&null==t.key&&(t.key="__mithril__"+e++)})),1}))}(t),h&&(e=O(t,e,f,r));for(var m=0,v=0,g=t.length;v<g;v++){var b=P(r,o,e,i,t[v],e[m],a,i+d||d,s,u,l);b!==n&&(p=p&&b.nodes.intact,d+=j(b),e[m++]=b)}return p||function(t,e,n){y(t,(function(t,r){null!=e[r]&&n.push.apply(n,e[r].nodes)})),y(e.nodes,(function(t,r){null!=t.parentNode&&n.indexOf(t)<0&&H([t],[e[r]])})),t.length<e.length&&(e.length=t.length),e.nodes=n}(t,e,[]),e}function T(t,e,n,r,i,o,a){var s={tag:t.tag,attrs:e,children:n,nodes:[r]};return function(t,e,n){n.length&&(t.views=e,t.controllers=n,y(n,(function(t){if(t.onunload&&t.onunload.$old&&(t.onunload=t.onunload.$old),E&&t.onunload){var e=t.onunload;t.onunload=function(){},t.onunload.$old=e}})))}(s,o,a),s.children&&!s.children.nodes&&(s.children.nodes=[]),s}b.startComputation=function(){E++},b.endComputation=function(){E>1?E--:(E=0,b.redraw())};var S=[];var M=!1;function A(t,e,n,r,i,a){var s=function(t,e,n,r){var i;return(i="diff"===b.redraw.strategy()&&t?t.indexOf(e):-1)>-1?n[i]:o(r)?new r:{}}(n.views,e,r,t.controller),c=t&&t.attrs&&t.attrs.key;return"retain"===(t=0===E||M||r&&r.indexOf(s)>-1?t.view(s):{tag:"placeholder"}).subtree||(t.attrs=t.attrs||{},t.attrs.key=c,function(t,e,n,r){null!=r.onunload&&S.map((function(t){return t.handler})).indexOf(r.onunload)<0&&S.push({controller:r,handler:r.onunload}),t.push(n),e.push(r)}(a,i,e,s)),t}function D(t,e,r,i,a,c,u,p){var d=[],f=[];if("retain"===(t=function(t,e,n,r){for(var i=e&&e.controllers;null!=t.view;)t=A(t,t.view.$original||t.view,e,i,r,n);return t}(t,e,d,f)).subtree)return e;if(!t.tag&&f.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");t.attrs=t.attrs||{},e.attrs=e.attrs||{};var h=Object.keys(t.attrs),m=h.length>("key"in t.attrs?1:0);if(_(t,e,h),s(t.tag)){var v,g=0===e.nodes.length;if(u=function(t,e){return t.attrs.xmlns?t.attrs.xmlns:"svg"===t.tag?"http://www.w3.org/2000/svg":"math"===t.tag?"http://www.w3.org/1998/Math/MathML":e}(t,u),g){var b=function(t,e,n,r){return r?F(e,t.tag,t.attrs,{},n):t.attrs}(t,v=function(t,e){return t.attrs.is?null==e?l.createElement(t.tag,t.attrs.is):l.createElementNS(e,t.tag,t.attrs.is):null==e?l.createElement(t.tag):l.createElementNS(e,t.tag)}(t,u),u,m);x(i,v,a),e=T(t,b,function(t,e,r,i,o,a){return null!=t.children&&t.children.length>0?P(e,t.tag,n,n,t.children,r.children,!0,0,t.attrs.contenteditable?e:i,o,a):t.children}(t,v,e,r,u,p),v,0,d,f)}else v=function(t,e,r,i,o,a,s,c){var u=t.nodes[0];return i&&F(u,e.tag,e.attrs,t.attrs,o),t.children=P(u,e.tag,n,n,e.children,t.children,!1,0,e.attrs.contenteditable?u:r,o,s),t.nodes.intact=!0,c.length&&(t.views=a,t.controllers=c),u}(e,t,r,m,u,d,p,f);return"select"===t.tag&&"value"in t.attrs&&F(v,t.tag,{value:t.attrs.value},{},u),g||!0!==c||null==v||x(i,v,a),function(t,e,n,r,i){if(o(e.attrs.config)){var a=i.configContext=i.configContext||{};t.push((function(){return e.attrs.config.call(e,n,!r,a,i)}))}}(p,t,v,g,e),e}}function P(t,e,n,r,s,u,l,p,d,f,h){return"retain"===(s=function(t){try{if("boolean"!=typeof t&&null!=t&&null!=t.toString())return t}catch(t){}return""}(s)).subtree?u:(u=function(t,e,n,r,o){if(null!=e){if(i.call(e)===i.call(t))return e;if(o&&o.nodes){var a=n-r,s=a+(c(t)?t:e.nodes).length;H(o.nodes.slice(a,s),o.slice(a,s))}else e.nodes&&H(e.nodes,e)}return(e=new t.constructor).tag&&(e={}),e.nodes=[],e}(s,u,p,r,n),c(s)?C(s,u,t,p,e,l,d,f,h):null!=s&&a(s)?D(s,u,d,t,p,l,f,h):o(s)?u:k(u,s,p,t,l,d,e))}function L(t,e){return t.action-e.action||t.index-e.index}var I,B={list:1,style:1,form:1,type:1,width:1,height:1};function $(t,e,n,i,s,c){if("config"===e||"key"===e)return!0;if(o(n)&&"on"===e.slice(0,2))t[e]=(u=n,l=t,function(t){t=t||event,b.redraw.strategy("diff"),b.startComputation();try{return u.call(l,t)}finally{ut()}});else if("style"===e&&null!=n&&a(n))!function(t,e,n){for(var i in n===e&&(t.style="",n={}),e)r.call(e,i)&&(null!=n&&n[i]===e[i]||(t.style[i]=e[i]));for(i in n)r.call(n,i)&&(r.call(e,i)||(t.style[i]=""))}(t,n,i);else if(null!=c)"href"===e?t.setAttributeNS("http://www.w3.org/1999/xlink","href",n):t.setAttribute("className"===e?"class":e,n);else if(e in t&&!B[e])try{("input"!==s&&!t.isContentEditable||t[e]!=n)&&(t[e]=n)}catch(r){t.setAttribute(e,n)}else try{t.setAttribute(e,n)}catch(t){}var u,l}function R(t,e,n,r,i,o,a){if(e in i&&r===n&&"object"!=typeof n&&l.activeElement!==t)"value"===e&&"input"===o&&t.value!=n&&(t.value=n);else{i[e]=n;try{return $(t,e,n,r,o,a)}catch(t){if(t.message.indexOf("Invalid argument")<0)throw t}}}function F(t,e,n,i,o){for(var a in n)!r.call(n,a)||R(t,a,n[a],i[a],i,e,o);return i}function H(t,e){for(var n=t.length-1;n>-1;n--)if(t[n]&&t[n].parentNode){try{t[n].parentNode.removeChild(t[n])}catch(t){}(e=[].concat(e))[n]&&q(e[n])}t.length&&(t.length=0)}function q(t){t.configContext&&o(t.configContext.onunload)&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers&&y(t.controllers,(function(t){o(t.onunload)&&t.onunload({preventDefault:u})})),t.children&&(c(t.children)?y(t.children,q):t.children.tag&&q(t.children))}function U(t,e){try{t.appendChild(l.createRange().createContextualFragment(e))}catch(n){t.insertAdjacentHTML("beforeend",e),function t(e){if("SCRIPT"===e.tagName)e.parentNode.replaceChild(function(t){for(var e=document.createElement("script"),n=t.attributes,r=0;r<n.length;r++)e.setAttribute(n[r].name,n[r].value);return e.text=t.innerHTML,e}(e),e);else{var n=e.childNodes;if(n&&n.length)for(var r=0;r<n.length;r++)t(n[r])}return e}(t)}}function z(t,e,n){var r=t.childNodes[e];if(r){var i=1!==r.nodeType,o=l.createElement("span");i?(t.insertBefore(o,r||null),o.insertAdjacentHTML("beforebegin",n),t.removeChild(o)):r.insertAdjacentHTML("beforebegin",n)}else U(t,n);for(var a=[];t.childNodes[e]!==r;)a.push(t.childNodes[e]),e++;return a}var Y={appendChild:function(t){I===n&&(I=l.createElement("html")),l.documentElement&&l.documentElement!==t?l.replaceChild(t,l.documentElement):l.appendChild(t),this.childNodes=l.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},G=[],W={};function V(t){var e=G.indexOf(t);return e<0?G.push(t)-1:e}b.render=function(t,e,r){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i,o=[],a=V(t),s=t===l;i=s||t===l.documentElement?Y:t,s&&"html"!==e.tag&&(e={tag:"html",attrs:{},children:e}),W[a]===n&&H(i.childNodes),!0===r&&wt(t),W[a]=P(i,null,n,n,e,W[a],!1,0,null,n,o),y(o,(function(t){t()}))},b.trust=function(t){return(t=new String(t)).$trusted=!0,t},b.prop=function(t){return(null!=t&&(a(t)||o(t))||"undefined"!=typeof Promise&&t instanceof Promise)&&o(t.then)?xt(t):function(t){function e(){return arguments.length&&(t=arguments[0]),t}return e.toJSON=function(){return t&&o(t.toJSON)?t.toJSON():t},e}(t)};var Z,K,J,X=[],Q=[],tt=[],et=null,nt=0,rt=null,it=null;function ot(t,e){function n(){return(t.controller||u).apply(this,e)||this}function r(n){for(var r=[n].concat(e),i=1;i<arguments.length;i++)r.push(arguments[i]);return t.view.apply(t,r)}t.controller&&(n.prototype=t.controller.prototype),r.$original=t.view;var i={controller:n,view:r};return e[0]&&null!=e[0].key&&(i.attrs={key:e[0].key}),i}function at(t,e){X.splice(e,1),tt.splice(e,1),Q.splice(e,1),wt(t),G.splice(V(t),1),S=[]}b.component=function(t){for(var e=new Array(arguments.length-1),n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ot(t,e)},b.mount=b.module=function(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=X.indexOf(t);n<0&&(n=X.length);var r=!1,i={preventDefault:function(){r=!0,rt=it=null}};return y(S,(function(t){t.handler.call(t.controller,i),t.controller.onunload=null})),r?y(S,(function(t){t.controller.onunload=t.handler})):S=[],tt[n]&&o(tt[n].onunload)&&tt[n].onunload(i),function(t,e,n,r){if(!r){var i;b.redraw.strategy("all"),b.startComputation(),X[n]=e,i=Z=t||(t={controller:u});var o=new(t.controller||u);return i===Z&&(tt[n]=o,Q[n]=t),ut(),null===t&&at(e,n),tt[n]}null==t&&at(e,n),J&&(K=J)}(e,t,n,r)};var st=!1;function ct(){rt&&(rt(),rt=null),y(X,(function(t,e){var n=Q[e];if(tt[e]){var r=[tt[e]];b.render(t,n.view?n.view(tt[e],r):"")}})),it&&(it(),it=null),et=null,nt=new Date,b.redraw.strategy("diff")}function ut(){"none"===b.redraw.strategy()?(E--,b.redraw.strategy("diff")):b.endComputation()}b.redraw=function(t){if(!st){st=!0,t&&(M=!0);try{et&&!t?(d===e.requestAnimationFrame||new Date-nt>16)&&(et>0&&f(et),et=d(ct,16)):(ct(),et=d((function(){et=null}),16))}finally{st=M=!1}}},b.redraw.strategy=b.prop(),b.withAttr=function(t,e,n){return function(r){var i=(r=r||window.event).currentTarget||this,o=n||this,a=t in i?i[t]:i.getAttribute(t);e.call(o,a)}};var lt,pt={pathname:"",hash:"#",search:"?"},dt=u,ft=!1;function ht(t){return t.slice(pt[b.route.mode].length)}function mt(t,e,n){lt={};var i=n.indexOf("?");-1!==i&&(lt=yt(n.substr(i+1,n.length)),n=n.substr(0,i));var o=Object.keys(e),a=o.indexOf(n);if(-1!==a)return b.mount(t,e[o[a]]),!0;for(var s in e)if(r.call(e,s)){if(s===n)return b.mount(t,e[s]),!0;var c=new RegExp("^"+s.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(c.test(n))return n.replace(c,(function(){var n=s.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2);y(n,(function(t,e){lt[t.replace(/:|\./g,"")]=decodeURIComponent(r[e])})),b.mount(t,e[s])})),!0}}function vt(t){if(!((t=t||event).ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault?t.preventDefault():t.returnValue=!1;var e,n=t.currentTarget||t.srcElement;for(e="pathname"===b.route.mode&&n.search?yt(n.search.slice(1)):{};n&&!/a/i.test(n.nodeName);)n=n.parentNode;E=0,b.route(n[b.route.mode].slice(pt[b.route.mode].length),e)}}function gt(){"hash"!==b.route.mode&&p.hash?p.hash=p.hash:e.scrollTo(0,0)}function bt(t,e){var i={},o=[];for(var s in t)if(r.call(t,s)){var u=e?e+"["+s+"]":s,l=t[s];if(null===l)o.push(encodeURIComponent(u));else if(a(l))o.push(bt(l,u));else if(c(l)){var p=[];i[u]=i[u]||{},y(l,(function(t){i[u][t]||(i[u][t]=!0,p.push(encodeURIComponent(u)+"="+encodeURIComponent(t)))})),o.push(p.join("&"))}else l!==n&&o.push(encodeURIComponent(u)+"="+encodeURIComponent(l))}return o.join("&")}function yt(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));var e=t.split("&"),n={};return y(e,(function(t){var e=t.split("="),r=decodeURIComponent(e[0]),i=2===e.length?decodeURIComponent(e[1]):null;null!=n[r]?(c(n[r])||(n[r]=[n[r]]),n[r].push(i)):n[r]=i})),n}function wt(t){var e=V(t);H(t.childNodes,W[e]),W[e]=n}function xt(t,e){var n=b.prop(e);return t.then(n),n.then=function(n,r){return xt(t.then(n,r),e)},n.catch=n.then.bind(null,null),n}b.route=function(t,n,i,o){if(0===arguments.length)return K;if(3===arguments.length&&s(n)){dt=function(e){var r=K=ht(e);if(!mt(t,i,r)){if(ft)throw new Error("Ensure the default route matches one of the routes defined in m.route");ft=!0,b.route(n,!0),ft=!1}};var a="hash"===b.route.mode?"onhashchange":"onpopstate";return e[a]=function(){var t=p[b.route.mode];"pathname"===b.route.mode&&(t+=p.search),K!==ht(t)&&dt(t)},rt=gt,void e[a]()}if(t.addEventListener||t.attachEvent){var c="pathname"!==b.route.mode?p.pathname:"";return t.href=c+pt[b.route.mode]+o.attrs.href,void(t.addEventListener?(t.removeEventListener("click",vt),t.addEventListener("click",vt)):(t.detachEvent("onclick",vt),t.attachEvent("onclick",vt)))}if(s(t)){J=K;var u,d=n||{},f=(K=t).indexOf("?");for(var h in u=f>-1?yt(K.slice(f+1)):{},d)r.call(d,h)&&(u[h]=d[h]);var m,v=bt(u);m=f>-1?K.slice(0,f):K,v&&(K=m+(-1===m.indexOf("?")?"?":"&")+v);var g=!0===(3===arguments.length?i:n)||J===K;if(e.history.pushState){var y=g?"replaceState":"pushState";rt=gt,it=function(){try{e.history[y](null,l.title,pt[b.route.mode]+K)}catch(t){p[b.route.mode]=K}},dt(pt[b.route.mode]+K)}else p[b.route.mode]=K,dt(pt[b.route.mode]+K);J=null}},b.route.param=function(t){if(!lt)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return t?lt[t]:lt},b.route.mode="search",b.route.buildQueryString=bt,b.route.parseQueryString=yt,b.deferred=function(){var t=new Ot;return t.promise=xt(t.promise),t};function Ot(t,e){var n=this,r=0,i=0,s=[];function c(t){r=t||4,s.map((function(t){3===r?t.resolve(i):t.reject(i)}))}function u(t,e,n,r){if((null!=i&&a(i)||o(i))&&o(t))try{var s=0;t.call(i,(function(t){s++||(i=t,e())}),(function(t){s++||(i=t,n())}))}catch(t){b.deferred.onerror(t),i=t,n()}else r()}function l(){var a;try{a=i&&i.then}catch(t){return b.deferred.onerror(t),i=t,r=2,l()}2===r&&b.deferred.onerror(i),u(a,(function(){r=1,l()}),(function(){r=2,l()}),(function(){try{1===r&&o(t)?i=t(i):2===r&&o(e)&&(i=e(i),r=1)}catch(t){return b.deferred.onerror(t),i=t,c()}i===n?(i=TypeError(),c()):u(a,(function(){c(3)}),c,(function(){c(1===r&&3)}))}))}n.promise={},n.resolve=function(t){return r||(i=t,r=1,l()),n},n.reject=function(t){return r||(i=t,r=2,l()),n},n.promise.then=function(t,e){var n=new Ot(t,e);return 3===r?n.resolve(i):4===r?n.reject(i):s.push(n),n.promise}}function _t(t){return t}return b.deferred.onerror=function(t){if("[object Error]"===i.call(t)&&!/ Error/.test(t.constructor.toString()))throw E=0,t},b.sync=function(t){var e=b.deferred(),n=t.length,r=[],i="resolve";function o(t,o){return function(a){return r[t]=a,o||(i="reject"),0==--n&&(e.promise(r),e[i](r)),a}}return t.length>0?y(t,(function(t,e){t.then(o(e,!0),o(e,!1))})):e.resolve([]),e.promise},b.request=function(t){!0!==t.background&&b.startComputation();var i,u,p,d=new Ot;return t.dataType&&"jsonp"===t.dataType.toLowerCase()?(i=t.serialize=u=t.deserialize=_t,p=function(t){return t.responseText}):(i=t.serialize=t.serialize||JSON.stringify,u=t.deserialize=t.deserialize||JSON.parse,p=t.extract||function(t){return t.responseText.length||u!==JSON.parse?t.responseText:null}),t.method=(t.method||"GET").toUpperCase(),t.url=function(t,e){e&&(t=t.replace(/:[a-z]\w+/gi,(function(t){var n=t.slice(1),r=e[n]||t;return delete e[n],r})));return t}(t.url,t.data),function(t,e,n){if("GET"===t.method&&"jsonp"!==t.dataType){var r=t.url.indexOf("?")<0?"?":"&",i=bt(e);t.url+=i?r+i:""}else t.data=n(e)}(t,t.data,i),t.onload=t.onerror=function(e){try{e=e||event;var n=u(p(e.target,t));"load"===e.type?(t.unwrapSuccess&&(n=t.unwrapSuccess(n,e.target)),c(n)&&t.type?y(n,(function(e,r){n[r]=new t.type(e)})):t.type&&(n=new t.type(n)),d.resolve(n)):(t.unwrapError&&(n=t.unwrapError(n,e.target)),d.reject(n))}catch(t){d.reject(t),b.deferred.onerror(t)}finally{!0!==t.background&&b.endComputation()}},function(t){t.dataType&&"jsonp"===t.dataType.toLowerCase()?function(t){var r=t.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=l.createElement("script");e[r]=function(o){i.parentNode.removeChild(i),t.onload({type:"load",target:{responseText:o}}),e[r]=n},i.onerror=function(){return i.parentNode.removeChild(i),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[r]=n,!1},i.onload=function(){return!1},i.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+r+"&"+bt(t.data||{}),l.body.appendChild(i)}(t):function(t){var n=new e.XMLHttpRequest;n.open(t.method,t.url,!0,t.user,t.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?t.onload({type:"load",target:n}):t.onerror({type:"error",target:n}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8");t.deserialize===JSON.parse&&n.setRequestHeader("Accept","application/json, text/*");if(a(t.headers))for(var i in t.headers)r.call(t.headers,i)&&n.setRequestHeader(i,t.headers[i]);if(o(t.config)){var c=t.config(n,t);null!=c&&(n=c)}var u="GET"!==t.method&&t.data?t.data:"";if(u&&!s(u)&&u.constructor!==e.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");n.send(u)}(t)}(t),d.promise=xt(d.promise,t.initialValue),d.promise},b}(i);"undefined"==typeof window&&a.deps({document:"undefined"!=typeof document?document:{},location:"undefined"!=typeof location?location:{},clearTimeout:clearTimeout,setTimeout:setTimeout}),null!=t&&t.exports?t.exports=a:void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof window?window:this)}).call(this,n(71)(t))},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"Model",(function(){return x})),n.d(r,"PostTypes",(function(){return _})),n.d(r,"Routes",(function(){return E}));n(72),n(74),n(77),n(78),n(80),n(82),n(83),n(84),n(85);var i=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){var t=void 0,e=void 0,n=void 0,r=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,p=void 0,d=void 0,f=void 0;function h(){return window.scrollY||window.pageYOffset}function m(t){return t.getBoundingClientRect().top+e}function v(n){l||(l=n),d=a(p=n-l,e,c,u),window.scrollTo(0,d),p<u?window.requestAnimationFrame(v):function(){window.scrollTo(0,e+c),t&&s&&(t.setAttribute("tabindex","-1"),t.focus());"function"==typeof f&&f();l=!1}()}return function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(u=p.duration||1e3,r=p.offset||0,f=p.callback,a=p.easing||i,s=p.a11y||!1,e=h(),void 0===l?"undefined":o(l)){case"number":t=void 0,s=!1,n=e+l;break;case"object":n=m(t=l);break;case"string":t=document.querySelector(l),n=m(t)}switch(c=n-e+r,o(p.duration)){case"number":u=p.duration;break;case"function":u=p.duration(c)}window.requestAnimationFrame(v)}}(),s=n(66);var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d.call(this),n=u({},l,n),e.jquery&&(e=e[0]),this.reference=e,this.options=n;var r="string"==typeof n.trigger?n.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(e,r,n)}return c(t,[{key:"_create",value:function(t,e,n,r){var i=window.document.createElement("div");i.innerHTML=e.trim();var o=i.childNodes[0];o.id="tooltip_"+Math.random().toString(36).substr(2,10),o.setAttribute("aria-hidden","false");var a=i.querySelector(this.options.innerSelector);return this._addTitleContent(t,n,r,a),o}},{key:"_addTitleContent",value:function(t,e,n,r){if(1===e.nodeType||11===e.nodeType)n&&r.appendChild(e);else if((o=e)&&"[object Function]"==={}.toString.call(o)){var i=e.call(t);n?r.innerHTML=i:r.textContent=i}else n?r.innerHTML=e:r.textContent=e;
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.3.2
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var o}},{key:"_show",value:function(t,e){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=t.getAttribute("title")||e.title;if(!n)return this;var r=this._create(t,e.template,n,e.html);t.setAttribute("aria-describedby",r.id);var i=this._findContainer(e.container,t);return this._append(r,i),this._popperOptions=u({},e.popperOptions,{placement:e.placement}),this._popperOptions.modifiers=u({},this._popperOptions.modifiers,{arrow:u({},this._popperOptions.modifiers&&this._popperOptions.modifiers.arrow,{element:e.arrowSelector}),offset:u({},this._popperOptions.modifiers&&this._popperOptions.modifiers.offset,{offset:e.offset})}),e.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:e.boundariesElement}),this.popperInstance=new s.a(t,r,this._popperOptions),this._tooltipNode=r,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var t=this;return this._events.forEach((function(e){var n=e.func,r=e.event;t.reference.removeEventListener(r,n)})),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var r=this,i=[],o=[];e.forEach((function(t){switch(t){case"hover":i.push("mouseenter"),o.push("mouseleave");break;case"focus":i.push("focus"),o.push("blur");break;case"click":i.push("click"),o.push("click")}})),i.forEach((function(e){var i=function(e){!0!==r._isOpening&&(e.usedByTooltip=!0,r._scheduleShow(t,n.delay,n,e))};r._events.push({event:e,func:i}),t.addEventListener(e,i)})),o.forEach((function(e){var i=function(e){!0!==e.usedByTooltip&&r._scheduleHide(t,n.delay,n,e)};r._events.push({event:e,func:i}),t.addEventListener(e,i),"click"===e&&n.closeOnClickOutside&&document.addEventListener("mousedown",(function(e){if(r._isOpening){var n=r.popperInstance.popper;t.contains(e.target)||n.contains(e.target)||i(e)}}),!0)}))}},{key:"_scheduleShow",value:function(t,e,n){var r=this;this._isOpening=!0;var i=e&&e.show||e||0;this._showTimeout=window.setTimeout((function(){return r._show(t,n)}),i)}},{key:"_scheduleHide",value:function(t,e,n,r){var i=this;this._isOpening=!1;var o=e&&e.hide||e||0;window.clearTimeout(this._showTimeout),window.setTimeout((function(){if(!1!==i._isOpen&&document.body.contains(i._tooltipNode)){if("mouseleave"===r.type)if(i._setTooltipNodeEvent(r,t,e,n))return;i._hide(t,n)}}),o)}},{key:"_updateTitleContent",value:function(t){if(void 0!==this._tooltipNode){var e=this._tooltipNode.querySelector(this.options.innerSelector);this._clearTitleContent(e,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,t,this.options.html,e),this.options.title=t,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=t)}},{key:"_clearTitleContent",value:function(t,e,n){1===n.nodeType||11===n.nodeType?e&&t.removeChild(n):e?t.innerHTML="":t.textContent=""}}]),t}(),d=function(){var t=this;this.show=function(){return t._show(t.reference,t.options)},this.hide=function(){return t._hide()},this.dispose=function(){return t._dispose()},this.toggle=function(){return t._isOpen?t.hide():t.show()},this.updateTitleContent=function(e){return t._updateTitleContent(e)},this._events=[],this._setTooltipNodeEvent=function(e,n,r,i){var o=e.relatedreference||e.toElement||e.relatedTarget;return!!t._tooltipNode.contains(o)&&(t._tooltipNode.addEventListener(e.type,(function r(o){var a=o.relatedreference||o.toElement||o.relatedTarget;t._tooltipNode.removeEventListener(e.type,r),n.contains(a)||t._scheduleHide(n,i.delay,i,o)})),!0)}},f=p;$.fn.tooltip=function(t){return this.each((function(){var e=$(this),n=e.data("bs.tooltip"),r="object"==typeof t&&t||{};e.attr("title")&&(r.title=e.attr("title"),e.removeAttr("title"),e.attr("data-original-title",r.title)),"destroy"===t&&(t="dispose"),!n&&["dispose","hide"].includes(t)||(n||e.data("bs.tooltip",n=new f(this,r)),"string"==typeof t&&n[t]&&n[t]())}))},["width","height"].forEach((function(t){var e=t.replace(/./,(function(t){return t[0].toUpperCase()}));$.fn["outer"+e]=function(e){var n=this;if(n){var r=n[t]();return{width:["left","right"],height:["top","bottom"]}[t].forEach((function(t){e&&(r+=parseInt(n.css("margin-"+t),10))})),r}return null}})),$.expr[":"].input=function(){if("disabled"in this||["INPUT","SELECT","TEXTAREA","BUTTON"].includes(this.tagName))return this},$.fn.hover=function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)},$.fn.animatedScrollTop=function(t,e,n){return void 0===e&&(e=$.fx.speeds._default),"number"==typeof t&&(t-=window.scrollY||window.pageYOffset),a(t,{duration:$.fx.speeds[e]||e,callback:n}),this},$.fn.extend=$.extend.bind($),
/**
 * Enable special events on Zepto
 * @license Original Copyright 2013 Enideo. Released under dual MIT and GPL licenses.
 */
$.event.special=$.event.special||{};var h=$.fn.bind;$.fn.bind=function(t,e,n){var r=this;return n||(n=e,e=null),$.each(t.split(/\s/),(function(t,n){if((n=n.split(/\./)[0])in $.event.special){var i=$.event.special[n];i._init||(i._init=!0,i.originalHandler=i.handler,i.handler=function(){var t=Array.prototype.slice.call(arguments);t[0]=$.extend({},t[0]),$.event.handle=function(){var t=Array.prototype.slice.call(arguments),e=t[0],n=$(e.target);n.trigger.apply(n,arguments)},i.originalHandler.apply(this,t)}),i.setup.apply(r,[e])}})),h.apply(this,[t,n])};n(86),n(87),n(88);var m=n(67),v=n.n(m),g=n(68),b=n.n(g),y=n(42),w=n(8),x=function(){function t(t,e){void 0===e&&(e=null),Object(w.a)(this,"type",void 0),Object(w.a)(this,"attributes",[]),Object(w.a)(this,"hasOnes",[]),Object(w.a)(this,"hasManys",[]),this.type=t,this.model=e}var e=t.prototype;return e.attribute=function(t){return this.attributes.push(t),this},e.hasOne=function(t){return this.hasOnes.push(t),this},e.hasMany=function(t){return this.hasManys.push(t),this},e.extend=function(t,e){this.model&&(t.store.models[this.type]=this.model);var n=t.store.models[this.type];this.attributes.forEach((function(t){return n.prototype[t]=n.attribute(t)})),this.hasOnes.forEach((function(t){return n.prototype[t]=n.hasOne(t)})),this.hasManys.forEach((function(t){return n.prototype[t]=n.hasMany(t)}))},t}(),O=n(4),_=function(){function t(){Object(w.a)(this,"postComponents",{})}var e=t.prototype;return e.add=function(t,e){return this.postComponents[t]=e,this},e.extend=function(t,e){Object(O.a)(t.postComponents,this.postComponents)},t}(),E=function(){function t(){Object(w.a)(this,"routes",{})}var e=t.prototype;return e.add=function(t,e,n){return this.routes[t]={path:e,component:n},this},e.extend=function(t,e){Object(O.a)(t.routes,this.routes)},t}();n.d(e,"a",(function(){return r})),dayjs.extend(v.a),dayjs.extend(b.a),Object(y.a)(window)},function(t,e,n){"use strict";(function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),i))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function c(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=c(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:l(u(t))}var p=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?p:10===t?d:p||d}function h(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position")?h(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function v(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,c=o.commonAncestorContainer;if(t!==c&&e!==c||r.contains(i))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&h(a.firstElementChild)!==a?h(c):c;var u=m(t);return u.host?v(u.host,e):v(t,m(e).host)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(e,"top"),i=g(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function y(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function w(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function x(t){var e=t.body,n=t.documentElement,r=f(10)&&getComputedStyle(n);return{height:w("Height",e,n,r),width:w("Width",e,n,r)}}var O=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function k(t){return N({},t,{right:t.left+t.width,bottom:t.top+t.height})}function j(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=g(t,"top"),r=g(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?x(t.ownerDocument):{},a=o.width||t.clientWidth||i.right-i.left,s=o.height||t.clientHeight||i.bottom-i.top,u=t.offsetWidth-a,l=t.offsetHeight-s;if(u||l){var p=c(t);u-=y(p,"x"),l-=y(p,"y"),i.width-=u,i.height-=l}return k(i)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===e.nodeName,o=j(t),a=j(e),s=l(t),u=c(e),p=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=k({top:o.top-a.top-p,left:o.left-a.left-d,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var m=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);h.top-=p-m,h.bottom-=p-m,h.left-=d-v,h.right-=d-v,h.marginTop=m,h.marginLeft=v}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=b(h,e)),h}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=C(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:g(n),s=e?0:g(n,"left"),c={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return k(c)}function S(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===c(t,"position"))return!0;var n=u(t);return!!n&&S(n)}function M(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===c(e,"transform");)e=e.parentElement;return e||document.documentElement}function A(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?M(t):v(t,e);if("viewport"===r)o=T(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(u(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var c=C(s,a,i);if("HTML"!==s.nodeName||S(a))o=c;else{var p=x(t.ownerDocument),d=p.height,f=p.width;o.top+=c.top-c.marginTop,o.bottom=d+c.top,o.left+=c.left-c.marginLeft,o.right=f+c.left}}var h="number"==typeof(n=n||0);return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function D(t){return t.width*t.height}function P(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=A(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(s).map((function(t){return N({key:t},s[t],{area:D(s[t])})})).sort((function(t,e){return e.area-t.area})),u=c.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,p=t.split("-")[1];return l+(p?"-"+p:"")}function L(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?M(e):v(e,n);return C(n,i,r)}function I(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function B(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function $(t,e,n){n=n.split("-")[0];var r=I(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return i[a]=e[a]+e[c]/2-r[c]/2,i[s]=n===s?e[s]-r[u]:e[B(s)],i}function R(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function F(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=R(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&s(n)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=n(e,t))})),e}function H(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=$(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=F(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function q(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function U(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function z(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(t){var e=t.ownerDocument;return e?e.defaultView:window}function G(t,e,n,r){n.updateBound=r,Y(t).addEventListener("resize",n.updateBound,{passive:!0});var i=l(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),o||t(l(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function W(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function V(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Y(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Z(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function K(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Z(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var J=n&&/Firefox/i.test(navigator.userAgent);function X(t,e,n){var r=R(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tt=Q.slice(3);function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.indexOf(t),r=tt.slice(n+1).concat(tt.slice(0,n));return e?r.reverse():r}var nt="flip",rt="clockwise",it="counterclockwise";function ot(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(R(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){Z(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var at={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:E({},c,o[c]),end:E({},c,o[c]+o[u]-a[u])};t.offsets.popper=N({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],c=void 0;return c=Z(+n)?[+n,0]:ot(n,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||h(t.instance.popper);t.instance.reference===n&&(n=h(n));var r=U("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=A(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=c;var u=e.priority,l=t.offsets.popper,p={primary:function(t){var n=l[t];return l[t]<c[t]&&!e.escapeWithReference&&(n=Math.max(l[t],c[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>c[t]&&!e.escapeWithReference&&(r=Math.min(l[n],c[t]-("right"===t?l.width:l.height))),E({},n,r)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=N({},l,p[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return n[s]<o(r[c])&&(t.offsets.popper[c]=o(r[c])-n[u]),n[c]>o(r[s])&&(t.offsets.popper[c]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!X(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",p=u?"Top":"Left",d=p.toLowerCase(),f=u?"left":"top",h=u?"bottom":"right",m=I(r)[l];s[h]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[h]-m)),s[d]+m>a[h]&&(t.offsets.popper[d]+=s[d]+m-a[h]),t.offsets.popper=k(t.offsets.popper);var v=s[d]+s[l]/2-m/2,g=c(t.instance.popper),b=parseFloat(g["margin"+p],10),y=parseFloat(g["border"+p+"Width"],10),w=v-t.offsets.popper[d]-b-y;return w=Math.max(Math.min(a[l]-m,w),0),t.arrowElement=r,t.offsets.arrow=(E(n={},d,Math.round(w)),E(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(q(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=A(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=B(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case nt:a=[r,i];break;case rt:a=et(r);break;case it:a=et(r,!0);break;default:a=e.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return t;r=t.placement.split("-")[0],i=B(r);var u=t.offsets.popper,l=t.offsets.reference,p=Math.floor,d="left"===r&&p(u.right)>p(l.left)||"right"===r&&p(u.left)<p(l.right)||"top"===r&&p(u.bottom)>p(l.top)||"bottom"===r&&p(u.top)<p(l.bottom),f=p(u.left)<p(n.left),h=p(u.right)>p(n.right),m=p(u.top)<p(n.top),v=p(u.bottom)>p(n.bottom),g="left"===r&&f||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,b=-1!==["top","bottom"].indexOf(r),y=!!e.flipVariations&&(b&&"start"===o&&f||b&&"end"===o&&h||!b&&"start"===o&&m||!b&&"end"===o&&v),w=!!e.flipVariationsByContent&&(b&&"start"===o&&h||b&&"end"===o&&f||!b&&"start"===o&&v||!b&&"end"===o&&m),x=y||w;(d||g||x)&&(t.flipped=!0,(d||g)&&(r=a[c+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=N({},t.offsets.popper,$(t.instance.popper,t.offsets.reference,t.placement)),t=F(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=B(e),t.offsets.popper=k(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!X(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=R(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=R(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=h(t.instance.popper),c=j(s),u={position:i.position},l=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},c=o(i.width),u=o(r.width),l=-1!==["left","right"].indexOf(t.placement),p=-1!==t.placement.indexOf("-"),d=e?l||p||c%2==u%2?o:a:s,f=e?o:s;return{left:d(c%2==1&&u%2==1&&!p&&e?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(t,window.devicePixelRatio<2||!J),p="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=U("transform"),m=void 0,v=void 0;if(v="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,a&&f)u[f]="translate3d("+m+"px, "+v+"px, 0)",u[p]=0,u[d]=0,u.willChange="transform";else{var g="bottom"===p?-1:1,b="right"===d?-1:1;u[p]=v*g,u[d]=m*b,u.willChange=p+", "+d}var y={"x-placement":t.placement};return t.attributes=N({},y,t.attributes),t.styles=N({},u,t.styles),t.arrowStyles=N({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return K(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&K(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=L(i,e,t,n.positionFixed),a=P(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),K(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},st=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};O(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=N({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(N({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=N({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return N({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&s(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return _(t,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return z.call(this)}},{key:"enableEventListeners",value:function(){return W.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),t}();st.Utils=("undefined"!=typeof window?window:t).PopperUtils,st.placements=Q,st.Defaults=at,e.a=st}).call(this,n(21))},function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype;n.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var i=function(t,e,r,i){for(var o,a,s=r.$locale().relativeTime,c=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=c.length,l=0;l<u;l+=1){var p=c[l];p.d&&(o=i?n(t).diff(r,p.d,!0):r.diff(t,p.d,!0));var d=Math.round(Math.abs(o));if(d<=p.r||!p.r){1===d&&l>0&&(p=c[l-1]),a=s[p.l].replace("%d",d);break}}return e?a:(o>0?s.future:s.past).replace("%s",a)};r.to=function(t,e){return i(t,e,this,!0)},r.from=function(t,e){return i(t,e,this)};var o=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(o(this),t)},r.fromNow=function(t){return this.from(o(this),t)}}}()},function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype,i=r.format,o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=o,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,n=void 0===e?{}:e,r=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,e,r){var i=r&&r.toUpperCase();return e||n[r]||o[r]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}));return i.call(this,r)}}}()},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(21))},function(t,e,n){"use strict";var r=n(31),i=n(49),o=n(48),a=n(59),s=n(22);function c(){$("[data-humantime]").each((function(){var t=$(this),e=Object(s.a)(t.attr("datetime"));t.html(e)}))}var u=n(5),l=n(4),p=n(0);var d=n(18),f=n(50),h=n(58),m=n(39),v=n(63),g=n(26),b=n(35),y=n(10),w=n(30),x=n(47),O=n(42),_=n(25),E=n(9),N=n(57),k=n(51),j=n(54),C=n(34),T=n(53),S=n(36),M=n(11),A=n(52),D=n(3),P=n(46),L=n(44),I=n(33),B=n(23),R=n(14),F=n(43),H=n(20),q=n(13),U=n(60),z=n(45),Y=n(24),G=n(41),W=n(40),V=n(16),Z=n(19),K=n(38),J=n(27),X=n(56),Q=n(2),tt=n(12),et=n(28),nt=n(1),rt=n(55),it=n(62),ot=n(15),at=n(6),st=n(37);var ct=n(29),ut=n(17),lt=n(61),pt=n(7);e.a={extend:r,Session:i.a,Store:o.a,"utils/evented":a.a,"utils/liveHumanTimes":function(){setInterval(c,1e4)},"utils/ItemList":u.a,"utils/mixin":function(t){for(var e=function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e}(t),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(t){Object(l.a)(e.prototype,t)})),e},"utils/humanTime":s.a,"utils/computed":d.a,"utils/Drawer":f.a,"utils/anchorScroll":h.a,"utils/RequestError":m.a,"utils/abbreviateNumber":v.a,"utils/string":g,"utils/SubtreeRetainer":b.a,"utils/extract":y.a,"utils/ScrollListener":w.a,"utils/stringToColor":x.a,"utils/patchMithril":O.a,"utils/classList":_.a,"utils/extractText":E.a,"utils/formatNumber":N.a,"utils/mapRoutes":k.a,"models/Notification":j.a,"models/User":C.a,"models/Post":T.a,"models/Discussion":S.a,"models/Group":M.a,"models/Forum":A.a,Component:D.a,Translator:P.a,"components/AlertManager":L.a,"components/Switch":I.a,"components/Badge":B.a,"components/LoadingIndicator":R.a,"components/Placeholder":F.a,"components/Separator":H.a,"components/Dropdown":q.a,"components/SplitDropdown":U.a,"components/RequestErrorModal":z.a,"components/FieldSet":Y.a,"components/Select":G.a,"components/Navigation":W.a,"components/Alert":V.a,"components/LinkButton":Z.a,"components/Checkbox":K.a,"components/SelectDropdown":J.a,"components/ModalManager":X.a,"components/Button":Q.a,"components/Modal":tt.a,"components/GroupBadge":et.a,Model:nt.a,Application:rt.a,"helpers/fullTime":it.a,"helpers/avatar":ot.a,"helpers/icon":at.a,"helpers/humanTime":st.a,"helpers/punctuateSeries":function(t){if(2===t.length)return app.translator.trans("core.lib.series.two_text",{first:t[0],second:t[1]});if(t.length>=3){var e=t.slice(1,t.length-1).reduce((function(t,e){return t.concat([e,app.translator.trans("core.lib.series.glue_text")])}),[]).slice(0,-1);return app.translator.trans("core.lib.series.three_text",{first:t[0],second:e,third:t[t.length-1]})}return t},"helpers/highlight":ct.a,"helpers/username":ut.a,"helpers/userOnline":lt.a,"helpers/listItems":pt.a}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(e){t.exports=e.jQuery=n(73)}).call(this,n(21))},function(t,e,n){var r;(function(){var i;i=this,void 0===(r=function(){return function(t){var e=function(){var e,n,r,i,o,a=[],s=a.concat,c=a.filter,u=a.slice,l=t.document,p={},d={},f={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/^(?:body|html)$/i,b=/([A-Z])/g,y=["val","css","html","text","data","width","height","offset"],w=l.createElement("table"),x=l.createElement("tr"),O={tr:l.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:x,th:x,"*":l.createElement("div")},_=/complete|loaded|interactive/,E=/^[\w-]*$/,N={},k=N.toString,j={},C=l.createElement("div"),T={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},S=Array.isArray||function(t){return t instanceof Array};function M(t){return null==t?String(t):N[k.call(t)]||"object"}function A(t){return"function"==M(t)}function D(t){return null!=t&&t==t.window}function P(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function L(t){return"object"==M(t)}function I(t){return L(t)&&!D(t)&&Object.getPrototypeOf(t)==Object.prototype}function B(t){var e=!!t&&"length"in t&&t.length,r=n.type(t);return"function"!=r&&!D(t)&&("array"==r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function $(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function R(t){return t in d?d[t]:d[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function F(t,e){return"number"!=typeof e||f[$(t)]?e:e+"px"}function H(t){return"children"in t?u.call(t.children):n.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function q(t,e){var n,r=t?t.length:0;for(n=0;n<r;n++)this[n]=t[n];this.length=r,this.selector=e||""}function U(t,n,r){for(e in n)r&&(I(n[e])||S(n[e]))?(I(n[e])&&!I(t[e])&&(t[e]={}),S(n[e])&&!S(t[e])&&(t[e]=[]),U(t[e],n[e],r)):void 0!==n[e]&&(t[e]=n[e])}function z(t,e){return null==e?n(t):n(t).filter(e)}function Y(t,e,n,r){return A(e)?e.call(t,n,r):e}function G(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function W(t,e){var n=t.className||"",r=n&&void 0!==n.baseVal;if(void 0===e)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function V(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function Z(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)Z(t.childNodes[n],e)}return j.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=C).appendChild(t),r=~j.qsa(i,e).indexOf(t),o&&C.removeChild(t),r},i=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},o=function(t){return c.call(t,(function(e,n){return t.indexOf(e)==n}))},j.fragment=function(t,e,r){var i,o,a;return m.test(t)&&(i=n(l.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(v,"<$1></$2>")),void 0===e&&(e=h.test(t)&&RegExp.$1),e in O||(e="*"),(a=O[e]).innerHTML=""+t,i=n.each(u.call(a.childNodes),(function(){a.removeChild(this)}))),I(r)&&(o=n(i),n.each(r,(function(t,e){y.indexOf(t)>-1?o[t](e):o.attr(t,e)}))),i},j.Z=function(t,e){return new q(t,e)},j.isZ=function(t){return t instanceof j.Z},j.init=function(t,e){var r,i;if(!t)return j.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&h.test(t))r=j.fragment(t,RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=j.qsa(l,t)}else{if(A(t))return n(l).ready(t);if(j.isZ(t))return t;if(S(t))i=t,r=c.call(i,(function(t){return null!=t}));else if(L(t))r=[t],t=null;else if(h.test(t))r=j.fragment(t.trim(),RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=j.qsa(l,t)}}return j.Z(r,t)},(n=function(t,e){return j.init(t,e)}).extend=function(t){var e,n=u.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach((function(n){U(t,n,e)})),t},j.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=E.test(o);return t.getElementById&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:u.call(a&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=l.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=M,n.isFunction=A,n.isWindow=D,n.isArray=S,n.isPlainObject=I,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},n.inArray=function(t,e,n){return a.indexOf.call(e,t,n)},n.camelCase=i,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var r,i,o,a,s=[];if(B(t))for(i=0;i<t.length;i++)null!=(r=e(t[i],i))&&s.push(r);else for(o in t)null!=(r=e(t[o],o))&&s.push(r);return(a=s).length>0?n.fn.concat.apply([],a):a},n.each=function(t,e){var n,r;if(B(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},n.grep=function(t,e){return c.call(t,e)},t.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){N["[object "+e+"]"]=e.toLowerCase()})),n.fn={constructor:j.Z,length:0,forEach:a.forEach,reduce:a.reduce,push:a.push,sort:a.sort,splice:a.splice,indexOf:a.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=j.isZ(e)?e.toArray():e;return s.apply(j.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return n(u.apply(this,arguments))},ready:function(t){return _.test(l.readyState)&&l.body?t(n):l.addEventListener("DOMContentLoaded",(function(){t(n)}),!1),this},get:function(t){return void 0===t?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){return a.every.call(this,(function(e,n){return!1!==t.call(e,n,e)})),this},filter:function(t){return A(t)?this.not(this.not(t)):n(c.call(this,(function(e){return j.matches(e,t)})))},add:function(t,e){return n(o(this.concat(n(t,e))))},is:function(t){return this.length>0&&j.matches(this[0],t)},not:function(t){var e=[];if(A(t)&&void 0!==t.call)this.each((function(n){t.call(this,n)||e.push(this)}));else{var r="string"==typeof t?this.filter(t):B(t)&&A(t.item)?u.call(t):n(t);this.forEach((function(t){r.indexOf(t)<0&&e.push(t)}))}return n(e)},has:function(t){return this.filter((function(){return L(t)?n.contains(this,t):n(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!L(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!L(t)?t:n(t)},find:function(t){var e=this;return t?"object"==typeof t?n(t).filter((function(){var t=this;return a.some.call(e,(function(e){return n.contains(e,t)}))})):1==this.length?n(j.qsa(this[0],t)):this.map((function(){return j.qsa(this,t)})):n()},closest:function(t,e){var r=[],i="object"==typeof t&&n(t);return this.each((function(n,o){for(;o&&!(i?i.indexOf(o)>=0:j.matches(o,t));)o=o!==e&&!P(o)&&o.parentNode;o&&r.indexOf(o)<0&&r.push(o)})),n(r)},parents:function(t){for(var e=[],r=this;r.length>0;)r=n.map(r,(function(t){if((t=t.parentNode)&&!P(t)&&e.indexOf(t)<0)return e.push(t),t}));return z(e,t)},parent:function(t){return z(o(this.pluck("parentNode")),t)},children:function(t){return z(this.map((function(){return H(this)})),t)},contents:function(){return this.map((function(){return this.contentDocument||u.call(this.childNodes)}))},siblings:function(t){return z(this.map((function(t,e){return c.call(H(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return n.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,p[t]||(e=l.createElement(t),l.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),p[t]=n),p[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=A(t);if(this[0]&&!e)var r=n(t).get(0),i=r.parentNode||this.length>1;return this.each((function(o){n(this).wrapAll(e?t.call(this,o):i?r.cloneNode(!0):r)}))},wrapAll:function(t){if(this[0]){var e;for(n(this[0]).before(t=n(t));(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=A(t);return this.each((function(r){var i=n(this),o=i.contents(),a=e?t.call(this,r):t;o.length?o.wrapAll(a):i.append(a)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var e=n(this);(void 0===t?"none"==e.css("display"):t)?e.show():e.hide()}))},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each((function(e){var r=this.innerHTML;n(this).empty().append(Y(this,t,e,r))})):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each((function(e){var n=Y(this,t,e,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var r;return"string"!=typeof t||1 in arguments?this.each((function(r){if(1===this.nodeType)if(L(t))for(e in t)G(this,e,t[e]);else G(this,t,Y(this,n,r,this.getAttribute(t)))})):0 in this&&1==this[0].nodeType&&null!=(r=this[0].getAttribute(t))?r:void 0},removeAttr:function(t){return this.each((function(){1===this.nodeType&&t.split(" ").forEach((function(t){G(this,t)}),this)}))},prop:function(t,e){return t=T[t]||t,1 in arguments?this.each((function(n){this[t]=Y(this,e,n,this[t])})):this[0]&&this[0][t]},removeProp:function(t){return t=T[t]||t,this.each((function(){delete this[t]}))},data:function(t,e){var n="data-"+t.replace(b,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?V(r):void 0},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each((function(e){this.value=Y(this,t,e,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(t){var r=n(this),i=Y(this,e,t,r.offset()),o=r.offsetParent().offset(),a={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(a.position="relative"),r.css(a)}));if(!this.length)return null;if(l.documentElement!==this[0]&&!n.contains(l.documentElement,this[0]))return{top:0,left:0};var r=this[0].getBoundingClientRect();return{left:r.left+t.pageXOffset,top:r.top+t.pageYOffset,width:Math.round(r.width),height:Math.round(r.height)}},css:function(t,r){if(arguments.length<2){var o=this[0];if("string"==typeof t){if(!o)return;return o.style[i(t)]||getComputedStyle(o,"").getPropertyValue(t)}if(S(t)){if(!o)return;var a={},s=getComputedStyle(o,"");return n.each(t,(function(t,e){a[e]=o.style[i(e)]||s.getPropertyValue(e)})),a}}var c="";if("string"==M(t))r||0===r?c=$(t)+":"+F(t,r):this.each((function(){this.style.removeProperty($(t))}));else for(e in t)t[e]||0===t[e]?c+=$(e)+":"+F(e,t[e])+";":this.each((function(){this.style.removeProperty($(e))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&a.some.call(this,(function(t){return this.test(W(t))}),R(t))},addClass:function(t){return t?this.each((function(e){if("className"in this){r=[];var i=W(this);Y(this,t,e,i).split(/\s+/g).forEach((function(t){n(this).hasClass(t)||r.push(t)}),this),r.length&&W(this,i+(i?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(e){if("className"in this){if(void 0===t)return W(this,"");r=W(this),Y(this,t,e,r).split(/\s+/g).forEach((function(t){r=r.replace(R(t)," ")})),W(this,r.trim())}}))},toggleClass:function(t,e){return t?this.each((function(r){var i=n(this);Y(this,t,r,W(this)).split(/\s+/g).forEach((function(t){(void 0===e?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return void 0===t?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return void 0===t?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),r=this.offset(),i=g.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r.top-=parseFloat(n(t).css("margin-top"))||0,r.left-=parseFloat(n(t).css("margin-left"))||0,i.top+=parseFloat(n(e[0]).css("border-top-width"))||0,i.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||l.body;t&&!g.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(t){var e=t.replace(/./,(function(t){return t[0].toUpperCase()}));n.fn[t]=function(r){var i,o=this[0];return void 0===r?D(o)?o["inner"+e]:P(o)?o.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each((function(e){(o=n(this)).css(t,Y(this,r,e,o[t]()))}))}})),["after","prepend","before","append"].forEach((function(e,r){var i=r%2;n.fn[e]=function(){var e,o,a=n.map(arguments,(function(t){var r=[];return"array"==(e=M(t))?(t.forEach((function(t){return void 0!==t.nodeType?r.push(t):n.zepto.isZ(t)?r=r.concat(t.get()):void(r=r.concat(j.fragment(t)))})),r):"object"==e||null==t?t:j.fragment(t)})),s=this.length>1;return a.length<1?this:this.each((function(e,c){o=i?c:c.parentNode,c=0==r?c.nextSibling:1==r?c.firstChild:2==r?c:null;var u=n.contains(l.documentElement,o);a.forEach((function(e){if(s)e=e.cloneNode(!0);else if(!o)return n(e).remove();o.insertBefore(e,c),u&&Z(e,(function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n.eval.call(n,e.innerHTML)}}))}))}))},n.fn[i?e+"To":"insert"+(r?"Before":"After")]=function(t){return n(t)[e](this),this}})),j.Z.prototype=q.prototype=n.fn,j.uniq=o,j.deserializeValue=V,n.zepto=j,n}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){var n=1,r=Array.prototype.slice,i=e.isFunction,o=function(t){return"string"==typeof t},a={},s={},c="onfocusin"in t,u={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};function p(t){return t._zid||(t._zid=n++)}function d(t,e,n,r){if((e=f(e)).ns)var i=(o=e.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(a[p(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||i.test(t.ns))&&(!n||p(t.fn)===p(n))&&(!r||t.sel==r)}))}function f(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(t,e){return t.del&&!c&&t.e in u||!!e}function m(t){return l[t]||c&&u[t]||t}function v(t,n,r,i,o,s,c){var u=p(t),d=a[u]||(a[u]=[]);n.split(/\s/).forEach((function(n){if("ready"==n)return e(document).ready(r);var a=f(n);a.fn=r,a.sel=o,a.e in l&&(r=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return a.fn.apply(this,arguments)}),a.del=s;var u=s||r;a.proxy=function(e){if(!(e=O(e)).isImmediatePropagationStopped()){e.data=i;var n=u.apply(t,null==e._args?[e]:[e].concat(e._args));return!1===n&&(e.preventDefault(),e.stopPropagation()),n}},a.i=d.length,d.push(a),"addEventListener"in t&&t.addEventListener(m(a.e),a.proxy,h(a,c))}))}function g(t,e,n,r,i){var o=p(t);(e||"").split(/\s/).forEach((function(e){d(t,e,n,r).forEach((function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(m(e.e),e.proxy,h(e,i))}))}))}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",e.event={add:v,remove:g},e.proxy=function(t,n){var a=2 in arguments&&r.call(arguments,2);if(i(t)){var s=function(){return t.apply(n,a?a.concat(r.call(arguments)):arguments)};return s._zid=p(t),s}if(o(n))return a?(a.unshift(t[n],t),e.proxy.apply(null,a)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},y=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function O(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(x,(function(e,r){var i=n[e];t[e]=function(){return this[r]=b,i&&i.apply(n,arguments)},t[r]=y})),t.timeStamp||(t.timeStamp=Date.now()),(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function _(t){var e,n={originalEvent:t};for(e in t)w.test(e)||void 0===t[e]||(n[e]=t[e]);return O(n,t)}e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,a,s,c){var u,l,p=this;return t&&!o(t)?(e.each(t,(function(t,e){p.on(t,n,a,e,c)})),p):(o(n)||i(s)||!1===s||(s=a,a=n,n=void 0),void 0!==s&&!1!==a||(s=a,a=void 0),!1===s&&(s=y),p.each((function(i,o){c&&(u=function(t){return g(o,t.type,s),s.apply(this,arguments)}),n&&(l=function(t){var i,a=e(t.target).closest(n,o).get(0);if(a&&a!==o)return i=e.extend(_(t),{currentTarget:a,liveFired:o}),(u||s).apply(a,[i].concat(r.call(arguments,1)))}),v(o,t,s,a,n,l||u)})))},e.fn.off=function(t,n,r){var a=this;return t&&!o(t)?(e.each(t,(function(t,e){a.off(t,n,e)})),a):(o(n)||i(r)||!1===r||(r=n,n=void 0),!1===r&&(r=y),a.each((function(){g(this,t,r,n)})))},e.fn.trigger=function(t,n){return(t=o(t)||e.isPlainObject(t)?e.Event(t):O(t))._args=n,this.each((function(){t.type in u&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)}))},e.fn.triggerHandler=function(t,n){var r,i;return this.each((function(a,s){(r=_(o(t)?e.Event(t):t))._args=n,r.target=s,e.each(d(s,t.type||t),(function(t,e){if(i=e.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}})),e.Event=function(t,e){o(t)||(t=(e=t).type);var n=document.createEvent(s[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),O(n)}}(e),function(e){var n,r,i=+new Date,o=t.document,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,c=/^(?:text|application)\/xml/i,u=/^\s*$/,l=o.createElement("a");function p(t,n,r,i){if(t.global)return function(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}(n||o,r,i)}function d(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===p(e,n,"ajaxBeforeSend",[t,e]))return!1;p(e,n,"ajaxSend",[t,e])}function f(t,e,n,r){var i=n.context;n.success.call(i,t,"success",e),r&&r.resolveWith(i,[t,"success",e]),p(n,i,"ajaxSuccess",[e,n,t]),m("success",e,n)}function h(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),p(r,o,"ajaxError",[n,r,t||e]),m(e,n,r)}function m(t,n,r){var i=r.context;r.complete.call(i,n,t),p(r,i,"ajaxComplete",[n,r]),function(t){t.global&&!--e.active&&p(t,null,"ajaxStop")}(r)}function v(){}function g(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function b(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}l.href=t.location.href,e.active=0,e.ajaxJSONP=function(n,r){if(!("type"in n))return e.ajax(n);var a,s,c=n.jsonpCallback,u=(e.isFunction(c)?c():c)||"Zepto"+i++,l=o.createElement("script"),p=t[u],m=function(t){e(l).triggerHandler("error",t||"abort")},v={abort:m};return r&&r.promise(v),e(l).on("load error",(function(i,o){clearTimeout(s),e(l).off().remove(),"error"!=i.type&&a?f(a[0],v,n,r):h(null,o||"error",v,n,r),t[u]=p,a&&e.isFunction(p)&&p(a[0]),p=a=void 0})),!1===d(v,n)?(m("abort"),v):(t[u]=function(){a=arguments},l.src=n.url.replace(/\?(.+)=\?/,"?$1="+u),o.head.appendChild(l),n.timeout>0&&(s=setTimeout((function(){m("timeout")}),n.timeout)),v)},e.ajaxSettings={type:"GET",beforeSend:v,success:v,error:v,complete:v,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:v},e.ajax=function(i){var a,m,b=e.extend({},i||{}),y=e.Deferred&&e.Deferred();for(n in e.ajaxSettings)void 0===b[n]&&(b[n]=e.ajaxSettings[n]);!function(t){t.global&&0==e.active++&&p(t,null,"ajaxStart")}(b),b.crossDomain||((a=o.createElement("a")).href=b.url,a.href=a.href,b.crossDomain=l.protocol+"//"+l.host!=a.protocol+"//"+a.host),b.url||(b.url=t.location.toString()),(m=b.url.indexOf("#"))>-1&&(b.url=b.url.slice(0,m)),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=g(t.url,t.data),t.data=void 0)}(b);var w=b.dataType,x=/\?.+=\?/.test(b.url);if(x&&(w="jsonp"),!1!==b.cache&&(i&&!0===i.cache||"script"!=w&&"jsonp"!=w)||(b.url=g(b.url,"_="+Date.now())),"jsonp"==w)return x||(b.url=g(b.url,b.jsonp?b.jsonp+"=?":!1===b.jsonp?"":"callback=?")),e.ajaxJSONP(b,y);var O,_=b.accepts[w],E={},N=function(t,e){E[t.toLowerCase()]=[t,e]},k=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:t.location.protocol,j=b.xhr(),C=j.setRequestHeader;if(y&&y.promise(j),b.crossDomain||N("X-Requested-With","XMLHttpRequest"),N("Accept",_||"*/*"),(_=b.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),j.overrideMimeType&&j.overrideMimeType(_)),(b.contentType||!1!==b.contentType&&b.data&&"GET"!=b.type.toUpperCase())&&N("Content-Type",b.contentType||"application/x-www-form-urlencoded"),b.headers)for(r in b.headers)N(r,b.headers[r]);if(j.setRequestHeader=N,j.onreadystatechange=function(){if(4==j.readyState){j.onreadystatechange=v,clearTimeout(O);var t,n=!1;if(j.status>=200&&j.status<300||304==j.status||0==j.status&&"file:"==k){if(w=w||function(t){return t&&(t=t.split(";",2)[0]),t&&("text/html"==t?"html":"application/json"==t?"json":s.test(t)?"script":c.test(t)&&"xml")||"text"}(b.mimeType||j.getResponseHeader("content-type")),"arraybuffer"==j.responseType||"blob"==j.responseType)t=j.response;else{t=j.responseText;try{t=function(t,e,n){if(n.dataFilter==v)return t;var r=n.context;return n.dataFilter.call(r,t,e)}(t,w,b),"script"==w?(0,eval)(t):"xml"==w?t=j.responseXML:"json"==w&&(t=u.test(t)?null:e.parseJSON(t))}catch(t){n=t}if(n)return h(n,"parsererror",j,b,y)}f(t,j,b,y)}else h(j.statusText||null,j.status?"error":"abort",j,b,y)}},!1===d(j,b))return j.abort(),h(null,"abort",j,b,y),j;var T=!("async"in b)||b.async;if(j.open(b.type,b.url,T,b.username,b.password),b.xhrFields)for(r in b.xhrFields)j[r]=b.xhrFields[r];for(r in E)C.apply(j,E[r]);return b.timeout>0&&(O=setTimeout((function(){j.onreadystatechange=v,j.abort(),h(null,"timeout",j,b,y)}),b.timeout)),j.send(b.data?b.data:null),j},e.get=function(){return e.ajax(b.apply(null,arguments))},e.post=function(){var t=b.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=b.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,s=t.split(/\s/),c=b(t,n,r),u=c.success;return s.length>1&&(c.url=s[0],i=s[1]),c.success=function(t){o.html(i?e("<div>").html(t.replace(a,"")).find(i):t),u&&u.apply(o,arguments)},e.ajax(c),this};var y=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(y(t)+"="+y(n))},function t(n,r,i,o){var a,s=e.isArray(r),c=e.isPlainObject(r);e.each(r,(function(r,u){a=e.type(u),o&&(r=i?o:o+"["+(c||"object"==a||"array"==a?r:"")+"]"),!o&&s?n.add(u.name,u.value):"array"==a||!i&&"object"==a?t(n,u,i,r):n.add(r,u)}))}(r,t,n),r.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){if(t.forEach)return t.forEach(i);r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,(function(r,o){n=o.type,(e=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())})),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach((function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(){try{getComputedStyle(void 0)}catch(n){var e=getComputedStyle;t.getComputedStyle=function(t,n){try{return e(t,n)}catch(t){return null}}}}(),e}(i)}.call(e,n,e,t))||(t.exports=r)}).call(window)},function(t,e,n){(function(e){t.exports=e.moment=n(75)}).call(this,n(21))},function(t,e,n){(function(e){t.exports=e.dayjs=n(76)}).call(this,n(21))},function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",a="month",s="quarter",c="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},d={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,a),i=e-r<0,o=t.clone().add(n+(i?-1:1),a);return Number(-(n+(e-r)/(i?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:a,y:c,w:o,d:i,h:r,m:n,s:e,ms:t,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h="en",m={};m[h]=f;var v=function(t){return t instanceof w},g=function(t,e,n){var r;if(!t)return h;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return n||(h=r),r},b=function(t,e,n){if(v(t))return t.clone();var r=e?"string"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new w(r)},y=d;y.l=g,y.i=v,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u})};var w=function(){function p(t){this.$L=this.$L||g(t.locale,null,!0),this.parse(t)}var d=p.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return y},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return b(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<b(t)},d.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,"$y",c)},d.month=function(t){return this.$g(t,"$M",a)},d.day=function(t){return this.$g(t,"$W",i)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",r)},d.minute=function(t){return this.$g(t,"$m",n)},d.second=function(t){return this.$g(t,"$s",e)},d.millisecond=function(e){return this.$g(e,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var u=this,l=!!y.u(s)||s,p=y.p(t),d=function(t,e){var n=y.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return l?n:n.endOf(i)},f=function(t,e){return y.w(u.toDate()[t].apply(u.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},h=this.$W,m=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(p){case c:return l?d(1,0):d(31,11);case a:return l?d(1,m):d(0,m+1);case o:var b=this.$locale().weekStart||0,w=(h<b?h+7:h)-b;return d(l?v-w:v+(6-w),m);case i:case"date":return f(g+"Hours",0);case r:return f(g+"Minutes",1);case n:return f(g+"Seconds",2);case e:return f(g+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(o,s){var u,l=y.p(o),p="set"+(this.$u?"UTC":""),d=(u={},u.day=p+"Date",u.date=p+"Date",u[a]=p+"Month",u[c]=p+"FullYear",u[r]=p+"Hours",u[n]=p+"Minutes",u[e]=p+"Seconds",u[t]=p+"Milliseconds",u)[l],f=l===i?this.$D+(s-this.$W):s;if(l===a||l===c){var h=this.clone().set("date",1);h.$d[d](f),h.init(),this.$d=h.set("date",Math.min(this.$D,h.daysInMonth())).toDate()}else d&&this.$d[d](f);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[y.p(t)]()},d.add=function(t,s){var u,l=this;t=Number(t);var p=y.p(s),d=function(e){var n=b(l);return y.w(n.date(n.date()+Math.round(e*t)),l)};if(p===a)return this.set(a,this.$M+t);if(p===c)return this.set(c,this.$y+t);if(p===i)return d(1);if(p===o)return d(7);var f=(u={},u[n]=6e4,u[r]=36e5,u[e]=1e3,u)[p]||1,h=this.valueOf()+t*f;return y.w(h,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=y.z(this),i=this.$locale(),o=this.$H,a=this.$m,s=this.$M,c=i.weekdays,u=i.months,p=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},d=function(t){return y.s(o%12||12,t,"0")},f=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:y.s(s+1,2,"0"),MMM:p(i.monthsShort,s,u,3),MMMM:u[s]||u(this,n),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:p(i.weekdaysMin,this.$W,c,2),ddd:p(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:y.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:y.s(a,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||h[t]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,i,u){var l,p=y.p(i),d=b(t),f=6e4*(d.utcOffset()-this.utcOffset()),h=this-d,m=y.m(this,d);return m=(l={},l[c]=m/12,l[a]=m,l[s]=m/3,l[o]=(h-f)/6048e5,l.day=(h-f)/864e5,l[r]=h/36e5,l[n]=h/6e4,l[e]=h/1e3,l)[p]||h,u?m:y.a(m)},d.daysInMonth=function(){return this.endOf(a).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=g(t,e,!0),n},d.clone=function(){return y.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},p}();return b.prototype=w.prototype,b.extend=function(t,e){return t(e,w,b),b},b.locale=g,b.isDayjs=v,b.unix=function(t){return b(1e3*t)},b.en=m[h],b.Ls=m,b}()},function(t,e,n){(function(e){t.exports=e.m=n(64)}).call(this,n(21))},function(t,e,n){(function(e){e.m||(e.m={}),t.exports=e.m.bidi=n(79)}).call(this,n(21))},function(t,e,n){var r,i,o,a;a=function(t){function e(t,e){var n="select"===t.tag?t.attrs.multi?"multi":"select":t.attrs.type;return t.attrs.onchange="multi"===n?function(){e([].slice.call(this.selectedOptions,(function(t){return t.value})))}:"select"===n?function(t){e(this.selectedOptions[0].value)}:"checkbox"===n?function(t){e(this.checked)}:t.attrs.oninput=function(t){e(this.value)},"select"===t.tag?t.children.forEach((function(t){t.attrs.value!==e()&&t.children[0]!==e()||(t.attrs.selected=!0)})):"checkbox"===n?t.attrs.checked=e():"radio"===n?t.attrs.checked=e()===t.attrs.value:t.attrs.value=e(),t}return e.view=function(t,n,r){return e(n,n.attrs.bidi)},t.attrs&&(t.attrs.bidi=e),t.bidi=e,e},i=[n(64)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){(function(e){t.exports=e.Mousetrap=n(81)}).call(this,n(21))},function(t,e,n){var r;!function(i,o,a){if(i){for(var s,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)c[111+d]="f"+d;for(d=0;d<=9;++d)c[d+96]=d.toString();b.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},b.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},b.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function t(e,n){return null!==e&&e!==o&&(e===n||t(e.parentNode,n))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},b.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},b.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);s=null},b.init=function(){var t=b(o);for(var e in t)"_"!==e.charAt(0)&&(b[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},b.init(),i.Mousetrap=b,t.exports&&(t.exports=b),void 0===(r=function(){return b}.call(e,n,e,t))||(t.exports=r)}function f(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function m(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!s)for(var t in s={},c)t>95&&t<112||c.hasOwnProperty(t)&&(s[c[t]]=t);return s}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,i,o=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),i=0;i<n.length;++i)r=n[i],p[r]&&(r=p[r]),e&&"keypress"!=e&&l[r]&&(r=l[r],o.push("shift")),m(r)&&o.push(r);return{key:r,modifiers:o,action:e=v(r,o,e)}}function b(t){var e=this;if(t=t||o,!(e instanceof b))return new b(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},i=!1,a=!1,s=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(s=!1)}function u(t,n,i,o,a,s){var c,u,l,p,d=[],f=i.type;if(!e._callbacks[t])return[];for("keyup"==f&&m(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(u=e._callbacks[t][c],(o||!u.seq||r[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||(l=n,p=u.modifiers,l.sort().join(",")===p.sort().join(",")))){var h=!o&&u.combo==a,v=o&&u.seq==o&&u.level==s;(h||v)&&e._callbacks[t].splice(c,1),d.push(u)}return d}function l(t,n,r,i){e.stopCallback(n,n.target||n.srcElement,r,i)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function p(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=h(t);n&&("keyup"!=t.type||i!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function d(t,e,o,a){function u(e){return function(){s=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function p(e){l(o,e,t),"keyup"!==a&&(i=h(e)),setTimeout(c,10)}r[t]=0;for(var d=0;d<e.length;++d){var f=d+1===e.length?p:u(a||g(e[d+1]).action);v(e[d],f,a,t,d)}}function v(t,n,r,i,o){e._directMap[t+":"+r]=n;var a,s=(t=t.replace(/\s+/g," ")).split(" ");s.length>1?d(t,s,n,r):(a=g(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],u(a.key,a.modifiers,{type:a.action},i,t,o),e._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:t}))}e._handleKey=function(t,e,n){var r,i=u(t,e,n),o={},p=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(p=Math.max(p,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=p)continue;d=!0,o[i[r].seq]=1,l(i[r].callback,n,i[r].combo,i[r].seq)}else d||l(i[r].callback,n,i[r].combo);var f="keypress"==n.type&&a;n.type!=s||m(t)||f||c(o),a=d&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},f(t,"keypress",p),f(t,"keydown",p),f(t,"keyup",p)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e){!function(t){var e=t.zepto,n=e.qsa,r=e.matches;function i(e){return!(!(e=t(e)).width()&&!e.height())&&"none"!==e.css("display")}var o=t.expr[":"]={visible:function(){if(i(this))return this},hidden:function(){if(!i(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(e,n,r){if(t(this).text().indexOf(r)>-1)return this},has:function(t,n,r){if(e.qsa(this,r).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),s=/^\s*>/,c="Zepto"+ +new Date;function u(t,e){t=t.replace(/=#\]/g,'="#"]');var n,r,i=a.exec(t);if(i&&i[2]in o&&(n=o[i[2]],r=i[3],t=i[1],r)){var s=Number(r);r=isNaN(s)?r.replace(/^["']|["']$/g,""):s}return e(t,n,r)}e.qsa=function(r,i){return u(i,(function(o,a,u){try{var l;!o&&a?o="*":s.test(o)&&(l=t(r).addClass(c),o="."+c+" "+o);var p=n(r,o)}catch(t){throw console.error("error performing selector: %o",i),t}finally{l&&l.removeClass(c)}return a?e.uniq(t.map(p,(function(t,e){return a.call(t,e,p,u)}))):p}))},e.matches=function(t,e){return u(e,(function(e,n,i){return(!e||r(t,e))&&(!n||n.call(t,null,i)===t)}))}}(Zepto)},function(t,e){!function(t){var e={},n=t.fn.data,r=t.camelCase,i=t.expando="Zepto"+ +new Date,o=[];function a(n,a,s){var c=n[i]||(n[i]=++t.uuid),u=e[c]||(e[c]=function(e){var n={};return t.each(e.attributes||o,(function(e,i){0==i.name.indexOf("data-")&&(n[r(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))})),n}(n));return void 0!==a&&(u[r(a)]=s),u}t.fn.data=function(o,s){return void 0===s?t.isPlainObject(o)?this.each((function(e,n){t.each(o,(function(t,e){a(n,t,e)}))})):0 in this?function(o,s){var c=o[i],u=c&&e[c];if(void 0===s)return u||a(o);if(u){if(s in u)return u[s];var l=r(s);if(l in u)return u[l]}return n.call(t(o),s)}(this[0],o):void 0:this.each((function(){a(this,o,s)}))},t.data=function(e,n,r){return t(e).data(n,r)},t.hasData=function(n){var r=n[i],o=r&&e[r];return!!o&&!t.isEmptyObject(o)},t.fn.removeData=function(n){return"string"==typeof n&&(n=n.split(/\s+/)),this.each((function(){var o=this[i],a=o&&e[o];a&&t.each(n||a,(function(t){delete a[n?r(this):t]}))}))},["remove","empty"].forEach((function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}}))}(Zepto)},function(t,e){!function(t,e){var n,r,i,o,a,s,c,u,l,p,d="",f=document.createElement("div"),h=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,m={};function v(t){return n?n+t:t.toLowerCase()}void 0===f.style.transform&&t.each({Webkit:"webkit",Moz:"",O:"o"},(function(t,e){if(void 0!==f.style[t+"TransitionProperty"])return d="-"+t.toLowerCase()+"-",n=e,!1})),r=d+"transform",m[i=d+"transition-property"]=m[o=d+"transition-duration"]=m[s=d+"transition-delay"]=m[a=d+"transition-timing-function"]=m[c=d+"animation-name"]=m[u=d+"animation-duration"]=m[p=d+"animation-delay"]=m[l=d+"animation-timing-function"]="",t.fx={off:void 0===n&&void 0===f.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:v("TransitionEnd"),animationEnd:v("AnimationEnd")},t.fn.animate=function(e,n,r,i,o){return t.isFunction(n)&&(i=n,r=void 0,n=void 0),t.isFunction(r)&&(i=r,r=void 0),t.isPlainObject(n)&&(r=n.easing,i=n.complete,o=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(e,n,r,i,o)},t.fn.anim=function(e,n,d,f,v){var g,b,y,w={},x="",O=this,_=t.fx.transitionEnd,E=!1;if(void 0===n&&(n=t.fx.speeds._default/1e3),void 0===v&&(v=0),t.fx.off&&(n=0),"string"==typeof e)w[c]=e,w[u]=n+"s",w[p]=v+"s",w[l]=d||"linear",_=t.fx.animationEnd;else{for(g in b=[],e)h.test(g)?x+=g+"("+e[g]+") ":(w[g]=e[g],b.push(g.replace(/([A-Z])/g,"-$1").toLowerCase()));x&&(w[r]=x,b.push(r)),n>0&&"object"==typeof e&&(w[i]=b.join(", "),w[o]=n+"s",w[s]=v+"s",w[a]=d||"linear")}return y=function(e){if(void 0!==e){if(e.target!==e.currentTarget)return;t(e.target).unbind(_,y)}else t(this).unbind(_,y);E=!0,t(this).css(m),f&&f.call(this)},n>0&&(this.bind(_,y),setTimeout((function(){E||y.call(O)}),1e3*(n+v)+25)),this.size()&&this.get(0).clientLeft,this.css(w),n<=0&&setTimeout((function(){O.each((function(){y.call(this)}))}),0),this},f=null}(Zepto)},function(t,e){!function(t,e){window.document.documentElement;var n=t.fn.show,r=t.fn.hide,i=t.fn.toggle;function o(e,n,r,i,o){"function"!=typeof n||o||(o=n,n=void 0);var a={opacity:r};return i&&(a.scale=i,e.css(t.fx.cssPrefix+"transform-origin","0 0")),e.animate(a,n,null,o)}function a(e,n,i,a){return o(e,n,0,i,(function(){r.call(t(this)),a&&a.call(this)}))}t.fn.show=function(t,e){return n.call(this),void 0===t?t=0:this.css("opacity",0),o(this,t,1,"1,1",e)},t.fn.hide=function(t,e){return void 0===t?r.call(this):a(this,t,"0,0",e)},t.fn.toggle=function(e,n){return void 0===e||"boolean"==typeof e?i.call(this,e):this.each((function(){var r=t(this);r["none"==r.css("display")?"show":"hide"](e,n)}))},t.fn.fadeTo=function(t,e,n){return o(this,t,e,null,n)},t.fn.fadeIn=function(t,e){var r=this.css("opacity");return r>0?this.css("opacity",0):r=1,n.call(this).fadeTo(t,r,e)},t.fn.fadeOut=function(t,e){return a(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each((function(){var r=t(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](e,n)}))}}(Zepto)},function(t,e,n){var r,i,o;
/*!
 * HC-Sticky
 * =========
 * Version: 2.2.3
 * Author: Some Web Media
 * Author URL: http://somewebmedia.com
 * Plugin URL: https://github.com/somewebmedia/hc-sticky
 * Description: Cross-browser plugin that makes any element on your page visible while you scroll
 * License: MIT
 */!function(n,a){"use strict";if("object"==typeof t.exports){if(!n.document)throw new Error("HC-Sticky requires a browser to run.");t.exports=a(n)}else i=[],r=a(n),void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}("undefined"!=typeof window?window:this,(function(t){"use strict";var e={top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,stickyClass:"sticky",stickTo:null,followScroll:!0,responsive:null,mobileFirst:!1,onStart:null,onStop:null,onBeforeResize:null,onResize:null,resizeDebounce:100,disable:!1,queries:null,queryFlow:"down"},n=function(t,e,n){console.log("%c! HC Sticky:%c "+t+"%c "+n+" is now deprecated and will be removed. Use%c "+e+"%c instead.","color: red","color: darkviolet","color: black","color: darkviolet","color: black")},r=t.document,i=function(o,a){var s=this;if("string"==typeof o&&(o=r.querySelector(o)),!o)return!1;a.queries&&n("queries","responsive","option"),a.queryFlow&&n("queryFlow","mobileFirst","option");var c={},u=i.Helpers,l=o.parentNode;"static"===u.getStyle(l,"position")&&(l.style.position="relative");var p=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.isEmptyObject(t)&&!u.isEmptyObject(c)||(c=Object.assign({},e,c,t))},d=function(){return c.disable},f=function(){var n,r=c.responsive||c.queries;if(r){var i=t.innerWidth;if(n=a,(c=Object.assign({},e,n||{})).mobileFirst)for(var o in r)o<=i&&!u.isEmptyObject(r[o])&&p(r[o]);else{var s=[];for(var l in r){var d={};d[l]=r[l],s.push(d)}for(var f=s.length-1;0<=f;f--){var h=s[f],m=Object.keys(h)[0];i<=m&&!u.isEmptyObject(h[m])&&p(h[m])}}}},h={css:{},position:null,stick:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.hasClass(o,c.stickyClass)||(!1===m.isAttached&&m.attach(),h.position="fixed",o.style.position="fixed",o.style.left=m.offsetLeft+"px",o.style.width=m.width,void 0===t.bottom?o.style.bottom="auto":o.style.bottom=t.bottom+"px",void 0===t.top?o.style.top="auto":o.style.top=t.top+"px",o.classList?o.classList.add(c.stickyClass):o.className+=" "+c.stickyClass,c.onStart&&c.onStart.call(o,Object.assign({},c)))},release:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.stop=t.stop||!1,!0===t.stop||"fixed"===h.position||null===h.position||!(void 0===t.top&&void 0===t.bottom||void 0!==t.top&&(parseInt(u.getStyle(o,"top"))||0)===t.top||void 0!==t.bottom&&(parseInt(u.getStyle(o,"bottom"))||0)===t.bottom)){!0===t.stop?!0===m.isAttached&&m.detach():!1===m.isAttached&&m.attach();var e=t.position||h.css.position;h.position=e,o.style.position=e,o.style.left=!0===t.stop?h.css.left:m.positionLeft+"px",o.style.width="absolute"!==e?h.css.width:m.width,void 0===t.bottom?o.style.bottom=!0===t.stop?"":"auto":o.style.bottom=t.bottom+"px",void 0===t.top?o.style.top=!0===t.stop?"":"auto":o.style.top=t.top+"px",o.classList?o.classList.remove(c.stickyClass):o.className=o.className.replace(new RegExp("(^|\\b)"+c.stickyClass.split(" ").join("|")+"(\\b|$)","gi")," "),c.onStop&&c.onStop.call(o,Object.assign({},c))}}},m={el:r.createElement("div"),offsetLeft:null,positionLeft:null,width:null,isAttached:!1,init:function(){for(var t in m.el.className="sticky-spacer",h.css)m.el.style[t]=h.css[t];m.el.style["z-index"]="-1";var e=u.getStyle(o);m.offsetLeft=u.offset(o).left-(parseInt(e.marginLeft)||0),m.positionLeft=u.position(o).left,m.width=u.getStyle(o,"width")},attach:function(){l.insertBefore(m.el,o),m.isAttached=!0},detach:function(){m.el=l.removeChild(m.el),m.isAttached=!1}},v=void 0,g=void 0,b=void 0,y=void 0,w=void 0,x=void 0,O=void 0,_=void 0,E=void 0,N=void 0,k=void 0,j=void 0,C=void 0,T=void 0,S=void 0,M=void 0,A=void 0,D=void 0,P=t.pageYOffset||r.documentElement.scrollTop,L=0,I=void 0,B=function(){S=D(),y=A(),C=w+y-_-k,T=O<S;var e=t.pageYOffset||r.documentElement.scrollTop,n=u.offset(o).top,i=n-e,a=void 0;I=e<P?"up":"down",L=e-P,j<(P=e)?C+_+(T?E:0)-(c.followScroll&&T?0:_)<=e+S-N-(O-(j-N)<S-N&&c.followScroll&&0<(a=S-O-N)?a:0)?h.release({position:"absolute",bottom:x+l.offsetHeight-C-_}):T&&c.followScroll?"down"===I?i+S+E<=O+.9?h.stick({bottom:E}):"fixed"===h.position&&h.release({position:"absolute",top:n-_-j-L+N}):Math.ceil(i+N)<0&&"fixed"===h.position?h.release({position:"absolute",top:n-_-j+N-L}):e+_-N<=n&&h.stick({top:_-N}):h.stick({top:_-N}):h.release({stop:!0})},$=!1,R=!1,F=function(){$&&(u.event.unbind(t,"scroll",B),$=!1)},H=function(){null!==o.offsetParent&&"none"!==u.getStyle(o,"display")?(function(){var e,n,i,a;h.css=(e=o,n=u.getCascadedStyle(e),i=u.getStyle(e),a={height:e.offsetHeight+"px",left:n.left,right:n.right,top:n.top,bottom:n.bottom,position:i.position,display:i.display,verticalAlign:i.verticalAlign,boxSizing:i.boxSizing,marginLeft:n.marginLeft,marginRight:n.marginRight,marginTop:n.marginTop,marginBottom:n.marginBottom,paddingLeft:n.paddingLeft,paddingRight:n.paddingRight},n.float&&(a.float=n.float||"none"),n.cssFloat&&(a.cssFloat=n.cssFloat||"none"),i.MozBoxSizing&&(a.MozBoxSizing=i.MozBoxSizing),a.width="auto"!==n.width?n.width:"border-box"===a.boxSizing||"border-box"===a.MozBoxSizing?e.offsetWidth+"px":i.width,a),m.init(),v=!(!c.stickTo||!("document"===c.stickTo||c.stickTo.nodeType&&9===c.stickTo.nodeType||"object"==typeof c.stickTo&&c.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),g=c.stickTo?v?r:"string"==typeof c.stickTo?r.querySelector(c.stickTo):c.stickTo:l,S=(D=function(){var t=o.offsetHeight+(parseInt(h.css.marginTop)||0)+(parseInt(h.css.marginBottom)||0),e=(S||0)-t;return-1<=e&&e<=1?S:t})(),y=(A=function(){return v?Math.max(r.documentElement.clientHeight,r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight):g.offsetHeight})(),w=v?0:u.offset(g).top,x=c.stickTo?v?0:u.offset(l).top:w,O=t.innerHeight,M=o.offsetTop-(parseInt(h.css.marginTop)||0),b=c.innerSticker?"string"==typeof c.innerSticker?r.querySelector(c.innerSticker):c.innerSticker:null,_=isNaN(c.top)&&-1<c.top.indexOf("%")?parseFloat(c.top)/100*O:c.top,E=isNaN(c.bottom)&&-1<c.bottom.indexOf("%")?parseFloat(c.bottom)/100*O:c.bottom,N=b?b.offsetTop:c.innerTop?c.innerTop:0,k=isNaN(c.bottomEnd)&&-1<c.bottomEnd.indexOf("%")?parseFloat(c.bottomEnd)/100*O:c.bottomEnd,j=w-_+N+M}(),y<=S?F():(B(),$||(u.event.bind(t,"scroll",B),$=!0))):F()},q=function(){o.style.position="",o.style.left="",o.style.top="",o.style.bottom="",o.style.width="",o.classList?o.classList.remove(c.stickyClass):o.className=o.className.replace(new RegExp("(^|\\b)"+c.stickyClass.split(" ").join("|")+"(\\b|$)","gi")," "),h.css={},!(h.position=null)===m.isAttached&&m.detach()},U=function(){q(),f(),d()?F():H()},z=function(){c.onBeforeResize&&c.onBeforeResize.call(o,Object.assign({},c)),U(),c.onResize&&c.onResize.call(o,Object.assign({},c))},Y=c.resizeDebounce?u.debounce(z,c.resizeDebounce):z,G=function(){R&&(u.event.unbind(t,"resize",Y),R=!1),F()},W=function(){R||(u.event.bind(t,"resize",Y),R=!0),f(),d()?F():H()};this.options=function(t){return t?c[t]:Object.assign({},c)},this.refresh=U,this.update=function(t){p(t),a=Object.assign({},a,t||{}),U()},this.attach=W,this.detach=G,this.destroy=function(){G(),q()},this.triggerMethod=function(t,e){"function"==typeof s[t]&&s[t](e)},this.reinit=function(){n("reinit","refresh","method"),U()},p(a),W(),u.event.bind(t,"load",U)};if(void 0!==t.jQuery){var o=t.jQuery,a="hcSticky";o.fn.extend({hcSticky:function(t,e){return this.length?"options"===t?o.data(this.get(0),a).options():this.each((function(){var n=o.data(this,a);n?n.triggerMethod(t,e):(n=new i(this,t),o.data(this,a,n))})):this}})}return t.hcSticky=t.hcSticky||i,i})),function(t){"use strict";var e=t.hcSticky,n=t.document;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(e=arguments[1]),n=0;n<i;){var o;n in r&&(o=r[n],t.call(e,o,n,r)),n++}});var r=function(){var e=n.documentElement,r=function(){};function i(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}e.addEventListener?r=function(t,e,n){t.addEventListener(e,n,!1)}:e.attachEvent&&(r=function(t,e,n){t[e+n]=n.handleEvent?function(){var e=i(t);n.handleEvent.call(n,e)}:function(){var e=i(t);n.call(t,e)},t.attachEvent("on"+e,t[e+n])});var o=function(){};return e.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:e.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(r){t[e+n]=void 0}}),{bind:r,unbind:o}}(),i=function(e,r){return t.getComputedStyle?r?n.defaultView.getComputedStyle(e,null).getPropertyValue(r):n.defaultView.getComputedStyle(e,null):e.currentStyle?r?e.currentStyle[r.replace(/-\w/g,(function(t){return t.toUpperCase().replace("-","")}))]:e.currentStyle:void 0},o=function(e){var r=e.getBoundingClientRect(),i=t.pageYOffset||n.documentElement.scrollTop,o=t.pageXOffset||n.documentElement.scrollLeft;return{top:r.top+i,left:r.left+o}};e.Helpers={isEmptyObject:function(t){for(var e in t)return!1;return!0},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},offset:o,position:function(t){var e=t.offsetParent,n=o(e),r=o(t),a=i(e),s=i(t);return n.top+=parseInt(a.borderTopWidth)||0,n.left+=parseInt(a.borderLeftWidth)||0,{top:r.top-n.top-(parseInt(s.marginTop)||0),left:r.left-n.left-(parseInt(s.marginLeft)||0)}},getStyle:i,getCascadedStyle:function(e){var r=e.cloneNode(!0);r.style.display="none",Array.prototype.slice.call(r.querySelectorAll('input[type="radio"]')).forEach((function(t){t.removeAttribute("name")})),e.parentNode.insertBefore(r,e.nextSibling);var i=void 0;r.currentStyle?i=r.currentStyle:t.getComputedStyle&&(i=n.defaultView.getComputedStyle(r,null));var o={};for(var a in i)!isNaN(a)||"string"!=typeof i[a]&&"number"!=typeof i[a]||(o[a]=i[a]);if(Object.keys(o).length<3)for(var s in o={},i)isNaN(s)||(o[i[s].replace(/-\w/g,(function(t){return t.toUpperCase().replace("-","")}))]=i.getPropertyValue(i[s]));if(o.margin||"auto"!==o.marginLeft?o.margin||o.marginLeft!==o.marginRight||o.marginLeft!==o.marginTop||o.marginLeft!==o.marginBottom||(o.margin=o.marginLeft):o.margin="auto",!o.margin&&"0px"===o.marginLeft&&"0px"===o.marginRight){var c=e.offsetLeft-e.parentNode.offsetLeft,u=c-(parseInt(o.left)||0)-(parseInt(o.right)||0),l=e.parentNode.offsetWidth-e.offsetWidth-c-(parseInt(o.right)||0)+(parseInt(o.left)||0)-u;0!==l&&1!==l||(o.margin="auto")}return r.parentNode.removeChild(r),r=null,o},event:r}}(window)},function(t,e){!function(t){"use strict";var e='[data-toggle="dropdown"]',n=function(e){t(e).on("click.bs.dropdown",this.toggle)};function r(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r="#"!==n?t(document).find(n):null;return r&&r.length?r:e.parent()}function i(n){n&&3===n.which||(t(".dropdown-backdrop").remove(),t(e).each((function(){var e=t(this),i=r(e),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(e.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))})))}n.VERSION="3.4.1",n.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var o=r(n),a=o.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(o.trigger(e=t.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=r(i),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(e).trigger("focus"),i.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var c=s.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<s.length-1&&c++,~c||(c=0),s.eq(c).trigger("focus")}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var r=t(this),i=r.data("bs.dropdown");i||r.data("bs.dropdown",i=new n(this)),"string"==typeof e&&i[e].call(r)}))},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",e,n.prototype.toggle).on("keydown.bs.dropdown.data-api",e,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery)},function(t,e){!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||t(r).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery)},,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(65),i=n(32),o=n(0),a=n(8),s=n(3),c=n(5),u=n(7),l=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("ul",{className:"Header-controls"},Object(u.a)(this.items().toArray()))},n.config=function(t,e){e.retain=!0},n.items=function(){return new c.a},e}(s.a),p=n(15),d=n(17),f=n(13),h=n(2),v=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.className="SessionDropdown",e.buttonClassName="Button Button--user Button--flat",e.menuClassName="Dropdown-menu--right"};var n=e.prototype;return n.view=function(){return this.props.children=this.items().toArray(),t.prototype.view.call(this)},n.getButtonContent=function(){var t=app.session.user;return[Object(p.a)(t)," ",m("span",{className:"Button-label"},Object(d.a)(t))]},n.items=function(){var t=new c.a;return t.add("logOut",h.a.component({icon:"fas fa-sign-out-alt",children:app.translator.trans("core.admin.header.log_out_button"),onclick:app.session.logout.bind(app.session)}),-100),t},e}(f.a),g=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("ul",{className:"Header-controls"},Object(u.a)(this.items().toArray()))},n.config=function(t,e){e.retain=!0},n.items=function(){var t=new c.a;return t.add("session",v.component()),t},e}(s.a),b=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){app.previous=app.current,app.current=this,app.modal.close(),this.bodyClass=""},n.config=function(t,e){var n=this;t||this.bodyClass&&($("#app").addClass(this.bodyClass),e.onunload=function(){return $("#app").removeClass(n.bodyClass)})},e}(s.a),y=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("div",{className:"Widget "+this.className()},this.content())},n.className=function(){return""},n.content=function(){return[]},e}(s.a),w=n(12),x=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.isDismissible=function(){return!1},n.className=function(){return"LoadingModal Modal--small"},n.title=function(){return app.translator.trans("core.admin.loading.title")},n.content=function(){return""},e}(w.a),O=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.className=function(){return"StatusWidget"},n.content=function(){return m("ul",null,Object(u.a)(this.items().toArray()))},n.items=function(){var t=new c.a;return t.add("tools",m(f.a,{label:app.translator.trans("core.admin.dashboard.tools_button"),icon:"fas fa-cog",buttonClassName:"Button",menuClassName:"Dropdown-menu--right"},m(h.a,{onclick:this.handleClearCache.bind(this)},app.translator.trans("core.admin.dashboard.clear_cache_button")))),t.add("version-flarum",[m("strong",null,"Flarum"),m("br",null),app.forum.attribute("version")]),t.add("version-php",[m("strong",null,"PHP"),m("br",null),app.data.phpVersion]),t.add("version-mysql",[m("strong",null,"MySQL"),m("br",null),app.data.mysqlVersion]),t},n.handleClearCache=function(t){app.modal.show(new x),app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+"/cache"}).then((function(){return window.location.reload()}))},e}(y),_=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("div",{className:"DashboardPage"},m("div",{className:"container"},this.availableWidgets()))},n.availableWidgets=function(){return[m(O,null)]},e}(b),E=n(24),N=n(41),k=n(16),j=n(4);function C(t){var e=JSON.parse(JSON.stringify(app.data.settings));return Object(j.a)(app.data.settings,t),app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/settings",data:t}).catch((function(t){throw app.data.settings=e,t}))}var T=n(33),S=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){var e=this;t.prototype.init.call(this),this.loading=!1,this.fields=["forum_title","forum_description","default_locale","show_language_selector","default_route","welcome_title","welcome_message"],this.values={};var n=app.data.settings;this.fields.forEach((function(t){return e.values[t]=m.prop(n[t])})),this.localeOptions={};var r=app.data.locales;for(var i in r)this.localeOptions[i]=r[i]+" ("+i+")";"number"!=typeof this.values.show_language_selector()&&this.values.show_language_selector(1)},n.view=function(){var t=this;return m("div",{className:"BasicsPage"},m("div",{className:"container"},m("form",{onsubmit:this.onsubmit.bind(this)},E.a.component({label:app.translator.trans("core.admin.basics.forum_title_heading"),children:[m("input",{className:"FormControl",value:this.values.forum_title(),oninput:m.withAttr("value",this.values.forum_title)})]}),E.a.component({label:app.translator.trans("core.admin.basics.forum_description_heading"),children:[m("div",{className:"helpText"},app.translator.trans("core.admin.basics.forum_description_text")),m("textarea",{className:"FormControl",value:this.values.forum_description(),oninput:m.withAttr("value",this.values.forum_description)})]}),Object.keys(this.localeOptions).length>1?E.a.component({label:app.translator.trans("core.admin.basics.default_language_heading"),children:[N.a.component({options:this.localeOptions,value:this.values.default_locale(),onchange:this.values.default_locale}),T.a.component({state:this.values.show_language_selector(),onchange:this.values.show_language_selector,children:app.translator.trans("core.admin.basics.show_language_selector_label")})]}):"",E.a.component({label:app.translator.trans("core.admin.basics.home_page_heading"),className:"BasicsPage-homePage",children:[m("div",{className:"helpText"},app.translator.trans("core.admin.basics.home_page_text")),this.homePageItems().toArray().map((function(e){var n=e.path,r=e.label;return m("label",{className:"checkbox"},m("input",{type:"radio",name:"homePage",value:n,checked:t.values.default_route()===n,onclick:m.withAttr("value",t.values.default_route)}),r)}))]}),E.a.component({label:app.translator.trans("core.admin.basics.welcome_banner_heading"),className:"BasicsPage-welcomeBanner",children:[m("div",{className:"helpText"},app.translator.trans("core.admin.basics.welcome_banner_text")),m("div",{className:"BasicsPage-welcomeBanner-input"},m("input",{className:"FormControl",value:this.values.welcome_title(),oninput:m.withAttr("value",this.values.welcome_title)}),m("textarea",{className:"FormControl",value:this.values.welcome_message(),oninput:m.withAttr("value",this.values.welcome_message)}))]}),h.a.component({type:"submit",className:"Button Button--primary",children:app.translator.trans("core.admin.basics.submit_button"),loading:this.loading,disabled:!this.changed()}))))},n.changed=function(){var t=this;return this.fields.some((function(e){return t.values[e]()!==app.data.settings[e]}))},n.homePageItems=function(){var t=new c.a;return t.add("allDiscussions",{path:"/all",label:app.translator.trans("core.admin.basics.all_discussions_label")}),t},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.loading){this.loading=!0,app.alerts.dismiss(this.successAlert);var n={};this.fields.forEach((function(t){return n[t]=e.values[t]()})),C(n).then((function(){app.alerts.show(e.successAlert=new k.a({type:"success",children:app.translator.trans("core.admin.basics.saved_message")}))})).catch((function(){})).then((function(){e.loading=!1,m.redraw()}))}},e}(b),M=n(28),A=n(23),D=n(11),P=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){this.group=this.props.group||app.store.createRecord("groups"),this.nameSingular=m.prop(this.group.nameSingular()||""),this.namePlural=m.prop(this.group.namePlural()||""),this.icon=m.prop(this.group.icon()||""),this.color=m.prop(this.group.color()||"")},n.className=function(){return"EditGroupModal Modal--small"},n.title=function(){return[this.color()||this.icon()?A.a.component({icon:this.icon(),style:{backgroundColor:this.color()}}):""," ",this.namePlural()||app.translator.trans("core.admin.edit_group.title")]},n.content=function(){return m("div",{className:"Modal-body"},m("div",{className:"Form"},this.fields().toArray()))},n.fields=function(){var t=new c.a;return t.add("name",m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.admin.edit_group.name_label")),m("div",{className:"EditGroupModal-name-input"},m("input",{className:"FormControl",placeholder:app.translator.trans("core.admin.edit_group.singular_placeholder"),value:this.nameSingular(),oninput:m.withAttr("value",this.nameSingular)}),m("input",{className:"FormControl",placeholder:app.translator.trans("core.admin.edit_group.plural_placeholder"),value:this.namePlural(),oninput:m.withAttr("value",this.namePlural)}))),30),t.add("color",m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.admin.edit_group.color_label")),m("input",{className:"FormControl",placeholder:"#aaaaaa",value:this.color(),oninput:m.withAttr("value",this.color)})),20),t.add("icon",m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.admin.edit_group.icon_label")),m("div",{className:"helpText"},app.translator.trans("core.admin.edit_group.icon_text",{a:m("a",{href:"https://fontawesome.com/icons?m=free",tabindex:"-1"})})),m("input",{className:"FormControl",placeholder:"fas fa-bolt",value:this.icon(),oninput:m.withAttr("value",this.icon)})),10),t.add("submit",m("div",{className:"Form-group"},h.a.component({type:"submit",className:"Button Button--primary EditGroupModal-save",loading:this.loading,children:app.translator.trans("core.admin.edit_group.submit_button")}),this.group.exists&&this.group.id()!==D.a.ADMINISTRATOR_ID?m("button",{type:"button",className:"Button EditGroupModal-delete",onclick:this.deleteGroup.bind(this)},app.translator.trans("core.admin.edit_group.delete_button")):""),-10),t},n.submitData=function(){return{nameSingular:this.nameSingular(),namePlural:this.namePlural(),color:this.color(),icon:this.icon()}},n.onsubmit=function(t){var e=this;t.preventDefault(),this.loading=!0,this.group.save(this.submitData(),{errorHandler:this.onerror.bind(this)}).then(this.hide.bind(this)).catch((function(){e.loading=!1,m.redraw()}))},n.deleteGroup=function(){confirm(app.translator.trans("core.admin.edit_group.delete_confirmation"))&&(this.group.delete().then((function(){return m.redraw()})),this.hide())},e}(w.a),L=n(6),I=n(20);function B(t){var e=app.store.getById("groups",t);return e?M.a.component({group:e,label:null}):""}function R(t,e){return app.getRequiredPermissions(e).forEach((function(e){var n=app.data.permissions[e]||[];-1!==n.indexOf(D.a.GUEST_ID)||(t=-1!==n.indexOf(D.a.MEMBER_ID)?t.filter((function(t){return t!==D.a.GUEST_ID})):-1!==t.indexOf(D.a.MEMBER_ID)?n:n.filter((function(e){return-1!==t.indexOf(e)}))),t=R(t,e)})),t}var F=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t),e.initProps=function(e){t.initProps.call(this,e),e.className="PermissionDropdown",e.buttonClassName="Button Button--text"};var n=e.prototype;return n.view=function(){var e=this;this.props.children=[];var n=app.data.permissions[this.props.permission]||[],r=-1!==(n=R(n,this.props.permission)).indexOf(D.a.GUEST_ID),i=-1!==n.indexOf(D.a.MEMBER_ID),o=app.store.getById("groups",D.a.ADMINISTRATOR_ID);return this.props.label=r?A.a.component({icon:"fas fa-globe"}):i?A.a.component({icon:"fas fa-user"}):[B(D.a.ADMINISTRATOR_ID),n.map(B)],this.showing&&(this.props.allowGuest&&this.props.children.push(h.a.component({children:[A.a.component({icon:"fas fa-globe"})," ",app.translator.trans("core.admin.permissions_controls.everyone_button")],icon:!r||"fas fa-check",onclick:function(){return e.save([D.a.GUEST_ID])},disabled:this.isGroupDisabled(D.a.GUEST_ID)})),this.props.children.push(h.a.component({children:[A.a.component({icon:"fas fa-user"})," ",app.translator.trans("core.admin.permissions_controls.members_button")],icon:!i||"fas fa-check",onclick:function(){return e.save([D.a.MEMBER_ID])},disabled:this.isGroupDisabled(D.a.MEMBER_ID)}),I.a.component(),h.a.component({children:[B(o.id())," ",o.namePlural()],icon:!(!r&&!i)||"fas fa-check",disabled:!r&&!i,onclick:function(t){t.shiftKey&&t.stopPropagation(),e.save([])}})),[].push.apply(this.props.children,app.store.all("groups").filter((function(t){return-1===[D.a.ADMINISTRATOR_ID,D.a.GUEST_ID,D.a.MEMBER_ID].indexOf(t.id())})).map((function(t){return h.a.component({children:[B(t.id())," ",t.namePlural()],icon:-1===n.indexOf(t.id())||"fas fa-check",onclick:function(n){n.shiftKey&&n.stopPropagation(),e.toggle(t.id())},disabled:e.isGroupDisabled(t.id())&&e.isGroupDisabled(D.a.MEMBER_ID)&&e.isGroupDisabled(D.a.GUEST_ID)})})))),t.prototype.view.call(this)},n.save=function(t){var e=this.props.permission;app.data.permissions[e]=t,app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/permission",data:{permission:e,groupIds:t}})},n.toggle=function(t){var e=this.props.permission,n=app.data.permissions[e]||[],r=n.indexOf(t);-1!==r?n.splice(r,1):(n.push(t),n=n.filter((function(t){return-1===[D.a.GUEST_ID,D.a.MEMBER_ID].indexOf(t)}))),this.save(n)},n.isGroupDisabled=function(t){return-1===R([t],this.props.permission).indexOf(t)},e}(f.a),H=n(27),q=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.initProps=function(e){var n=this;t.initProps.call(this,e),e.className="SettingDropdown",e.buttonClassName="Button Button--text",e.caretIcon="fas fa-caret-down",e.defaultLabel="Custom",e.children=e.options.map((function(t){var r,i=t.value,o=t.label,a=app.data.settings[e.key]===i;return h.a.component({children:o,icon:!a||"fas fa-check",onclick:C.bind(n,(r={},r[e.key]=i,r)),active:a})}))},e}(H.a),U=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){this.permissions=this.permissionItems().toArray()},n.view=function(){var t=this.scopeItems().toArray(),e=function(e){return t.map((function(t){return m("td",null,t.render(e))}))};return m("table",{className:"PermissionGrid"},m("thead",null,m("tr",null,m("td",null),t.map((function(t){return m("th",null,t.label," ",t.onremove?h.a.component({icon:"fas fa-times",className:"Button Button--text PermissionGrid-removeScope",onclick:t.onremove}):"")})),m("th",null,this.scopeControlItems().toArray()))),this.permissions.map((function(t){return m("tbody",null,m("tr",{className:"PermissionGrid-section"},m("th",null,t.label),e(t),m("td",null)),t.children.map((function(t){return m("tr",{className:"PermissionGrid-child"},m("th",null,Object(L.a)(t.icon),t.label),e(t),m("td",null))})))})))},n.permissionItems=function(){var t=new c.a;return t.add("view",{label:app.translator.trans("core.admin.permissions.read_heading"),children:this.viewItems().toArray()},100),t.add("start",{label:app.translator.trans("core.admin.permissions.create_heading"),children:this.startItems().toArray()},90),t.add("reply",{label:app.translator.trans("core.admin.permissions.participate_heading"),children:this.replyItems().toArray()},80),t.add("moderate",{label:app.translator.trans("core.admin.permissions.moderate_heading"),children:this.moderateItems().toArray()},70),t},n.viewItems=function(){var t=new c.a;return t.add("viewDiscussions",{icon:"fas fa-eye",label:app.translator.trans("core.admin.permissions.view_discussions_label"),permission:"viewDiscussions",allowGuest:!0},100),t.add("viewUserList",{icon:"fas fa-users",label:app.translator.trans("core.admin.permissions.view_user_list_label"),permission:"viewUserList",allowGuest:!0},100),t.add("signUp",{icon:"fas fa-user-plus",label:app.translator.trans("core.admin.permissions.sign_up_label"),setting:function(){return q.component({key:"allow_sign_up",options:[{value:"1",label:app.translator.trans("core.admin.permissions_controls.signup_open_button")},{value:"0",label:app.translator.trans("core.admin.permissions_controls.signup_closed_button")}]})}},90),t.add("viewLastSeenAt",{icon:"far fa-clock",label:app.translator.trans("core.admin.permissions.view_last_seen_at_label"),permission:"user.viewLastSeenAt"}),t},n.startItems=function(){var t=new c.a;return t.add("start",{icon:"fas fa-edit",label:app.translator.trans("core.admin.permissions.start_discussions_label"),permission:"startDiscussion"},100),t.add("allowRenaming",{icon:"fas fa-i-cursor",label:app.translator.trans("core.admin.permissions.allow_renaming_label"),setting:function(){var t=parseInt(app.data.settings.allow_renaming,10);return q.component({defaultLabel:t?app.translator.transChoice("core.admin.permissions_controls.allow_some_minutes_button",t,{count:t}):app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button"),key:"allow_renaming",options:[{value:"-1",label:app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button")},{value:"10",label:app.translator.trans("core.admin.permissions_controls.allow_ten_minutes_button")},{value:"reply",label:app.translator.trans("core.admin.permissions_controls.allow_until_reply_button")}]})}},90),t},n.replyItems=function(){var t=new c.a;return t.add("reply",{icon:"fas fa-reply",label:app.translator.trans("core.admin.permissions.reply_to_discussions_label"),permission:"discussion.reply"},100),t.add("allowPostEditing",{icon:"fas fa-pencil-alt",label:app.translator.trans("core.admin.permissions.allow_post_editing_label"),setting:function(){var t=parseInt(app.data.settings.allow_post_editing,10);return q.component({defaultLabel:t?app.translator.transChoice("core.admin.permissions_controls.allow_some_minutes_button",t,{count:t}):app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button"),key:"allow_post_editing",options:[{value:"-1",label:app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button")},{value:"10",label:app.translator.trans("core.admin.permissions_controls.allow_ten_minutes_button")},{value:"reply",label:app.translator.trans("core.admin.permissions_controls.allow_until_reply_button")}]})}},90),t},n.moderateItems=function(){var t=new c.a;return t.add("viewIpsPosts",{icon:"fas fa-bullseye",label:app.translator.trans("core.admin.permissions.view_post_ips_label"),permission:"discussion.viewIpsPosts"},110),t.add("renameDiscussions",{icon:"fas fa-i-cursor",label:app.translator.trans("core.admin.permissions.rename_discussions_label"),permission:"discussion.rename"},100),t.add("hideDiscussions",{icon:"far fa-trash-alt",label:app.translator.trans("core.admin.permissions.delete_discussions_label"),permission:"discussion.hide"},90),t.add("deleteDiscussions",{icon:"fas fa-times",label:app.translator.trans("core.admin.permissions.delete_discussions_forever_label"),permission:"discussion.delete"},80),t.add("postWithoutThrottle",{icon:"fas fa-swimmer",label:app.translator.trans("core.admin.permissions.post_without_throttle_label"),permission:"postWithoutThrottle"},70),t.add("editPosts",{icon:"fas fa-pencil-alt",label:app.translator.trans("core.admin.permissions.edit_posts_label"),permission:"discussion.editPosts"},70),t.add("hidePosts",{icon:"far fa-trash-alt",label:app.translator.trans("core.admin.permissions.delete_posts_label"),permission:"discussion.hidePosts"},60),t.add("deletePosts",{icon:"fas fa-times",label:app.translator.trans("core.admin.permissions.delete_posts_forever_label"),permission:"discussion.deletePosts"},60),t.add("userEdit",{icon:"fas fa-user-cog",label:app.translator.trans("core.admin.permissions.edit_users_label"),permission:"user.edit"},60),t},n.scopeItems=function(){var t=new c.a;return t.add("global",{label:app.translator.trans("core.admin.permissions.global_heading"),render:function(t){return t.setting?t.setting():t.permission?F.component({permission:t.permission,allowGuest:t.allowGuest}):""}},100),t},n.scopeControlItems=function(){return new c.a},e}(s.a),z=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.view=function(){return m("div",{className:"PermissionsPage"},m("div",{className:"PermissionsPage-groups"},m("div",{className:"container"},app.store.all("groups").filter((function(t){return-1===[D.a.GUEST_ID,D.a.MEMBER_ID].indexOf(t.id())})).map((function(t){return m("button",{className:"Button Group",onclick:function(){return app.modal.show(new P({group:t}))}},M.a.component({group:t,className:"Group-icon",label:null}),m("span",{className:"Group-name"},t.namePlural()))})),m("button",{className:"Button Group Group--add",onclick:function(){return app.modal.show(new P)}},Object(L.a)("fas fa-plus",{className:"Group-icon"}),m("span",{className:"Group-name"},app.translator.trans("core.admin.permissions.new_group_button"))))),m("div",{className:"PermissionsPage-permissions"},m("div",{className:"container"},U.component())))},e}(b),Y=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){this.settings={},this.loading=!1},n.form=function(){return""},n.content=function(){return m("div",{className:"Modal-body"},m("div",{className:"Form"},this.form(),m("div",{className:"Form-group"},this.submitButton())))},n.submitButton=function(){return m(h.a,{type:"submit",className:"Button Button--primary",loading:this.loading,disabled:!this.changed()},app.translator.trans("core.admin.settings.submit_button"))},n.setting=function(t,e){return void 0===e&&(e=""),this.settings[t]=this.settings[t]||m.prop(app.data.settings[t]||e),this.settings[t]},n.dirty=function(){var t=this,e={};return Object.keys(this.settings).forEach((function(n){var r=t.settings[n]();r!==app.data.settings[n]&&(e[n]=r)})),e},n.changed=function(){return Object.keys(this.dirty()).length},n.onsubmit=function(t){t.preventDefault(),this.loading=!0,C(this.dirty()).then(this.onsaved.bind(this),this.loaded.bind(this))},n.onsaved=function(){this.hide()},e}(w.a),G=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.className=function(){return"EditCustomCssModal Modal--large"},n.title=function(){return app.translator.trans("core.admin.edit_css.title")},n.form=function(){return[m("p",null,app.translator.trans("core.admin.edit_css.customize_text",{a:m("a",{href:"https://github.com/flarum/core/tree/master/less",target:"_blank"})})),m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"30",bidi:this.setting("custom_less")}))]},n.onsaved=function(){window.location.reload()},e}(Y),W=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.className=function(){return"EditCustomHeaderModal Modal--large"},n.title=function(){return app.translator.trans("core.admin.edit_header.title")},n.form=function(){return[m("p",null,app.translator.trans("core.admin.edit_header.customize_text")),m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"30",bidi:this.setting("custom_header")}))]},n.onsaved=function(){window.location.reload()},e}(Y),V=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.className=function(){return"EditCustomFooterModal Modal--large"},n.title=function(){return app.translator.trans("core.admin.edit_footer.title")},n.form=function(){return[m("p",null,app.translator.trans("core.admin.edit_footer.customize_text")),m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"30",bidi:this.setting("custom_footer")}))]},n.onsaved=function(){window.location.reload()},e}(Y),Z=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){this.loading=!1},n.view=function(){return this.props.loading=this.loading,this.props.className=(this.props.className||"")+" Button",app.data.settings[this.props.name+"_path"]?(this.props.onclick=this.remove.bind(this),this.props.children=app.translator.trans("core.admin.upload_image.remove_button"),m("div",null,m("p",null,m("img",{src:app.forum.attribute(this.props.name+"Url"),alt:""})),m("p",null,t.prototype.view.call(this)))):(this.props.onclick=this.upload.bind(this),this.props.children=app.translator.trans("core.admin.upload_image.upload_button"),t.prototype.view.call(this))},n.upload=function(){var t=this;this.loading||$('<input type="file">').appendTo("body").hide().click().on("change",(function(e){var n=new FormData;n.append(t.props.name,$(e.target)[0].files[0]),t.loading=!0,m.redraw(),app.request({method:"POST",url:t.resourceUrl(),serialize:function(t){return t},data:n}).then(t.success.bind(t),t.failure.bind(t))}))},n.remove=function(){this.loading=!0,m.redraw(),app.request({method:"DELETE",url:this.resourceUrl()}).then(this.success.bind(this),this.failure.bind(this))},n.resourceUrl=function(){return app.forum.attribute("apiUrl")+"/"+this.props.name},n.success=function(t){window.location.reload()},n.failure=function(t){this.loading=!1,m.redraw()},e}(h.a),K=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){t.prototype.init.call(this),this.primaryColor=m.prop(app.data.settings.theme_primary_color),this.secondaryColor=m.prop(app.data.settings.theme_secondary_color),this.darkMode=m.prop("1"===app.data.settings.theme_dark_mode),this.coloredHeader=m.prop("1"===app.data.settings.theme_colored_header)},n.view=function(){return m("div",{className:"AppearancePage"},m("div",{className:"container"},m("form",{onsubmit:this.onsubmit.bind(this)},m("fieldset",{className:"AppearancePage-colors"},m("legend",null,app.translator.trans("core.admin.appearance.colors_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.colors_text")),m("div",{className:"AppearancePage-colors-input"},m("input",{className:"FormControl",type:"text",placeholder:"#aaaaaa",value:this.primaryColor(),onchange:m.withAttr("value",this.primaryColor)}),m("input",{className:"FormControl",type:"text",placeholder:"#aaaaaa",value:this.secondaryColor(),onchange:m.withAttr("value",this.secondaryColor)})),T.a.component({state:this.darkMode(),children:app.translator.trans("core.admin.appearance.dark_mode_label"),onchange:this.darkMode}),T.a.component({state:this.coloredHeader(),children:app.translator.trans("core.admin.appearance.colored_header_label"),onchange:this.coloredHeader}),h.a.component({className:"Button Button--primary",type:"submit",children:app.translator.trans("core.admin.appearance.submit_button"),loading:this.loading}))),m("fieldset",null,m("legend",null,app.translator.trans("core.admin.appearance.logo_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.logo_text")),m(Z,{name:"logo"})),m("fieldset",null,m("legend",null,app.translator.trans("core.admin.appearance.favicon_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.favicon_text")),m(Z,{name:"favicon"})),m("fieldset",null,m("legend",null,app.translator.trans("core.admin.appearance.custom_header_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.custom_header_text")),h.a.component({className:"Button",children:app.translator.trans("core.admin.appearance.edit_header_button"),onclick:function(){return app.modal.show(new W)}})),m("fieldset",null,m("legend",null,app.translator.trans("core.admin.appearance.custom_footer_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.custom_footer_text")),h.a.component({className:"Button",children:app.translator.trans("core.admin.appearance.edit_footer_button"),onclick:function(){return app.modal.show(new V)}})),m("fieldset",null,m("legend",null,app.translator.trans("core.admin.appearance.custom_styles_heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.appearance.custom_styles_text")),h.a.component({className:"Button",children:app.translator.trans("core.admin.appearance.edit_css_button"),onclick:function(){return app.modal.show(new G)}}))))},n.onsubmit=function(t){t.preventDefault();var e=/^#[0-9a-f]{3}([0-9a-f]{3})?$/i;e.test(this.primaryColor())&&e.test(this.secondaryColor())?(this.loading=!0,C({theme_primary_color:this.primaryColor(),theme_secondary_color:this.secondaryColor(),theme_dark_mode:this.darkMode(),theme_colored_header:this.coloredHeader()}).then((function(){return window.location.reload()}))):alert(app.translator.trans("core.admin.appearance.enter_hex_message"))},e}(b),J=n(19),X=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.className=function(){return"AddExtensionModal Modal--small"},n.title=function(){return app.translator.trans("core.admin.add_extension.title")},n.content=function(){return m("div",{className:"Modal-body"},m("p",null,app.translator.trans("core.admin.add_extension.temporary_text")),m("p",null,app.translator.trans("core.admin.add_extension.install_text",{a:m("a",{href:"https://discuss.flarum.org/t/extensions",target:"_blank"})})),m("p",null,app.translator.trans("core.admin.add_extension.developer_text",{a:m("a",{href:"http://flarum.org/docs/extend",target:"_blank"})})))},e}(w.a),Q=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){var t=this;return m("div",{className:"ExtensionsPage"},m("div",{className:"ExtensionsPage-header"},m("div",{className:"container"},h.a.component({children:app.translator.trans("core.admin.extensions.add_button"),icon:"fas fa-plus",className:"Button Button--primary",onclick:function(){return app.modal.show(new X)}}))),m("div",{className:"ExtensionsPage-list"},m("div",{className:"container"},m("ul",{className:"ExtensionList"},Object.keys(app.data.extensions).map((function(e){var n=app.data.extensions[e],r=t.controlItems(n.id).toArray();return m("li",{className:"ExtensionListItem "+(t.isEnabled(n.id)?"":"disabled")},m("div",{className:"ExtensionListItem-content"},m("span",{className:"ExtensionListItem-icon ExtensionIcon",style:n.icon},n.icon?Object(L.a)(n.icon.name):""),r.length?m(f.a,{className:"ExtensionListItem-controls",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right",icon:"fas fa-ellipsis-h"},r):"",m("div",{className:"ExtensionListItem-main"},m("label",{className:"ExtensionListItem-title"},m("input",{type:"checkbox",checked:t.isEnabled(n.id),onclick:t.toggle.bind(t,n.id)})," "," ",n.extra["flarum-extension"].title),m("div",{className:"ExtensionListItem-version"},n.version),m("div",{className:"ExtensionListItem-description"},n.description))))}))))))},n.controlItems=function(t){var e=new c.a,n=this.isEnabled(t);return app.extensionSettings[t]&&e.add("settings",h.a.component({icon:"fas fa-cog",children:app.translator.trans("core.admin.extensions.settings_button"),onclick:app.extensionSettings[t]})),n||e.add("uninstall",h.a.component({icon:"far fa-trash-alt",children:app.translator.trans("core.admin.extensions.uninstall_button"),onclick:function(){app.request({url:app.forum.attribute("apiUrl")+"/extensions/"+t,method:"DELETE"}).then((function(){return window.location.reload()})),app.modal.show(new x)}})),e},n.isEnabled=function(t){return-1!==JSON.parse(app.data.settings.extensions_enabled).indexOf(t)},n.toggle=function(t){var e=this.isEnabled(t);app.request({url:app.forum.attribute("apiUrl")+"/extensions/"+t,method:"PATCH",data:{enabled:!e}}).then((function(){e||localStorage.setItem("enabledExtension",t),window.location.reload()})),app.modal.show(new x)},e}(b),tt=n(14),et=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.init=function(){t.prototype.init.call(this),this.saving=!1,this.refresh()},n.refresh=function(){var t=this;this.loading=!0,this.driverFields={},this.fields=["mail_driver","mail_from"],this.values={},this.status={sending:!1,errors:{}};var e=app.data.settings;this.fields.forEach((function(n){return t.values[n]=m.prop(e[n])})),app.request({method:"GET",url:app.forum.attribute("apiUrl")+"/mail-settings"}).then((function(n){for(var r in t.driverFields=n.data.attributes.fields,t.status.sending=n.data.attributes.sending,t.status.errors=n.data.attributes.errors,t.driverFields)for(var i in t.driverFields[r])t.fields.push(i),t.values[i]=m.prop(e[i]);t.loading=!1,m.redraw()}))},n.view=function(){var t=this;if(this.loading||this.saving)return m("div",{className:"MailPage"},m("div",{className:"container"},m(tt.a,null)));var e=this.driverFields[this.values.mail_driver()],n=Object.keys(e);return m("div",{className:"MailPage"},m("div",{className:"container"},m("form",{onsubmit:this.onsubmit.bind(this)},m("h2",null,app.translator.trans("core.admin.email.heading")),m("div",{className:"helpText"},app.translator.trans("core.admin.email.text")),E.a.component({label:app.translator.trans("core.admin.email.addresses_heading"),className:"MailPage-MailSettings",children:[m("div",{className:"MailPage-MailSettings-input"},m("label",null,app.translator.trans("core.admin.email.from_label"),m("input",{className:"FormControl",value:this.values.mail_from()||"",oninput:m.withAttr("value",this.values.mail_from)})))]}),E.a.component({label:app.translator.trans("core.admin.email.driver_heading"),className:"MailPage-MailSettings",children:[m("div",{className:"MailPage-MailSettings-input"},m("label",null,app.translator.trans("core.admin.email.driver_label"),m(N.a,{value:this.values.mail_driver(),options:Object.keys(this.driverFields).reduce((function(t,e){var n;return Object(j.a)({},t,((n={})[e]=e,n))}),{}),onchange:this.values.mail_driver})))]}),this.status.sending||k.a.component({children:app.translator.trans("core.admin.email.not_sending_message"),dismissible:!1}),n.length>0&&E.a.component({label:app.translator.trans("core.admin.email."+this.values.mail_driver()+"_heading"),className:"MailPage-MailSettings",children:[m("div",{className:"MailPage-MailSettings-input"},n.map((function(e){return[m("label",null,app.translator.trans("core.admin.email."+e+"_label"),t.renderField(e)),t.status.errors[e]&&m("p",{className:"ValidationError"},t.status.errors[e])]})))]}),h.a.component({type:"submit",className:"Button Button--primary",children:app.translator.trans("core.admin.email.submit_button"),disabled:!this.changed()}))))},n.renderField=function(t){var e=this.values.mail_driver(),n=this.driverFields[e][t],r=this.values[t];return"string"==typeof n?m("input",{className:"FormControl",value:r()||"",oninput:m.withAttr("value",r)}):m(N.a,{value:r(),options:n,onchange:r})},n.changed=function(){var t=this;return this.fields.some((function(e){return t.values[e]()!==app.data.settings[e]}))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0,app.alerts.dismiss(this.successAlert);var n={};this.fields.forEach((function(t){return n[t]=e.values[t]()})),C(n).then((function(){app.alerts.show(e.successAlert=new k.a({type:"success",children:app.translator.trans("core.admin.basics.saved_message")}))})).catch((function(){})).then((function(){e.saving=!1,e.refresh()}))}},e}(b),nt=function(t){t.routes={dashboard:{path:"/",component:_.component()},basics:{path:"/basics",component:S.component()},permissions:{path:"/permissions",component:z.component()},appearance:{path:"/appearance",component:K.component()},extensions:{path:"/extensions",component:Q.component()},mail:{path:"/mail",component:et.component()}}},rt=n(55),it=n(40),ot=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.getButtonContent=function(){var e=t.prototype.getButtonContent.call(this);return e.push(m("div",{className:"AdminLinkButton-description"},this.props.description)),e},e}(J.a),at=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m(H.a,{className:"AdminNav App-titleControl",buttonClassName:"Button"},this.items().toArray())},n.items=function(){var t=new c.a;return t.add("dashboard",ot.component({href:app.route("dashboard"),icon:"far fa-chart-bar",children:app.translator.trans("core.admin.nav.dashboard_button"),description:app.translator.trans("core.admin.nav.dashboard_text")})),t.add("basics",ot.component({href:app.route("basics"),icon:"fas fa-pencil-alt",children:app.translator.trans("core.admin.nav.basics_button"),description:app.translator.trans("core.admin.nav.basics_text")})),t.add("mail",ot.component({href:app.route("mail"),icon:"fas fa-envelope",children:app.translator.trans("core.admin.nav.email_button"),description:app.translator.trans("core.admin.nav.email_text")})),t.add("permissions",ot.component({href:app.route("permissions"),icon:"fas fa-key",children:app.translator.trans("core.admin.nav.permissions_button"),description:app.translator.trans("core.admin.nav.permissions_text")})),t.add("appearance",ot.component({href:app.route("appearance"),icon:"fas fa-paint-brush",children:app.translator.trans("core.admin.nav.appearance_button"),description:app.translator.trans("core.admin.nav.appearance_text")})),t.add("extensions",ot.component({href:app.route("extensions"),icon:"fas fa-puzzle-piece",children:app.translator.trans("core.admin.nav.extensions_button"),description:app.translator.trans("core.admin.nav.extensions_text")})),t},e}(s.a),st=function(t){function e(){var e;return e=t.call(this)||this,Object(a.a)(Object(i.a)(e),"extensionSettings",{}),Object(a.a)(Object(i.a)(e),"history",{canGoBack:function(){return!0},getPrevious:function(){},backUrl:function(){return e.forum.attribute("baseUrl")},back:function(){window.location=this.backUrl()}}),nt(Object(i.a)(e)),e}Object(o.a)(e,t);var n=e.prototype;return n.mount=function(){m.mount(document.getElementById("app-navigation"),it.a.component({className:"App-backControl",drawer:!0})),m.mount(document.getElementById("header-navigation"),it.a.component()),m.mount(document.getElementById("header-primary"),l.component()),m.mount(document.getElementById("header-secondary"),g.component()),m.mount(document.getElementById("admin-navigation"),at.component()),m.route.mode="hash",t.prototype.mount.call(this);var e=localStorage.getItem("enabledExtension");e&&this.extensionSettings[e]&&(this.extensionSettings[e](),localStorage.removeItem("enabledExtension"))},n.getRequiredPermissions=function(t){var e=[];return"startDiscussion"!==t&&0!==t.indexOf("discussion.")||e.push("viewDiscussions"),"discussion.delete"===t&&e.push("discussion.hide"),"discussion.deletePosts"===t&&e.push("discussion.hidePosts"),e},e}(rt.a),ct=n(70),ut=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("div",{className:"DashboardWidget "+this.className()},this.content())},n.className=function(){return""},n.content=function(){return[]},e}(s.a),lt=Object(j.a)(ct.a,{"utils/saveSettings":C,"components/SettingDropdown":q,"components/EditCustomFooterModal":V,"components/SessionDropdown":v,"components/HeaderPrimary":l,"components/AppearancePage":K,"components/Page":b,"components/StatusWidget":O,"components/HeaderSecondary":g,"components/SettingsModal":Y,"components/DashboardWidget":y,"components/AddExtensionModal":X,"components/ExtensionsPage":Q,"components/AdminLinkButton":ot,"components/PermissionGrid":U,"components/Widget":ut,"components/MailPage":et,"components/UploadImageButton":Z,"components/LoadingModal":x,"components/DashboardPage":_,"components/BasicsPage":S,"components/EditCustomHeaderModal":W,"components/PermissionsPage":z,"components/PermissionDropdown":F,"components/AdminNav":at,"components/EditCustomCssModal":G,"components/EditGroupModal":P,routes:nt,AdminApplication:st}),pt=new st;window.app=pt,lt.app=pt,n.d(e,"Extend",(function(){return r.a})),n.d(e,"app",(function(){return pt})),n.d(e,"compat",(function(){return lt}))}]);
//# sourceMappingURL=admin.js.map